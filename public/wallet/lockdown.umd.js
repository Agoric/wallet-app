"use strict";(()=>{const e=[e=>{let{imports:t,liveVar:r,onceVar:o}=e;t([]);const n=globalThis;o.universalThis(n);const{Array:s,Date:a,Float32Array:i,JSON:c,Map:l,Math:p,Number:m,Object:u,Promise:y,Proxy:f,Reflect:g,RegExp:d,Set:E,String:b,WeakMap:P,WeakSet:w}=globalThis;o.Array(s),o.Date(a),o.Float32Array(i),o.JSON(c),o.Map(l),o.Math(p),o.Number(m),o.Object(u),o.Promise(y),o.Proxy(f),o.Reflect(g),o.FERAL_REG_EXP(d),o.Set(E),o.String(b),o.WeakMap(P),o.WeakSet(w);const{Error:h,RangeError:v,ReferenceError:S,SyntaxError:k,TypeError:j}=globalThis;o.FERAL_ERROR(h),o.RangeError(v),o.ReferenceError(S),o.SyntaxError(k),o.TypeError(j);const{assign:A,create:T,defineProperties:x,entries:I,freeze:O,getOwnPropertyDescriptor:C,getOwnPropertyDescriptors:_,getOwnPropertyNames:F,getPrototypeOf:N,is:R,isExtensible:V,keys:M,prototype:$,seal:L,preventExtensions:G,setPrototypeOf:D,values:U}=u;o.assign(A),o.create(T),o.defineProperties(x),o.entries(I),o.freeze(O),o.getOwnPropertyDescriptor(C),o.getOwnPropertyDescriptors(_),o.getOwnPropertyNames(F),o.getPrototypeOf(N),o.is(R),o.isExtensible(V),o.keys(M),o.objectPrototype($),o.seal(L),o.preventExtensions(G),o.setPrototypeOf(D),o.values(U);const{species:H,toStringTag:W,iterator:B,matchAll:z,keyFor:K,for:J}=Symbol;o.speciesSymbol(H),o.toStringTagSymbol(W),o.iteratorSymbol(B),o.matchAllSymbol(z),o.symbolKeyFor(K),o.symbolFor(J);const{isInteger:q}=m;o.isInteger(q);const{stringify:Y}=c;o.stringifyJson(Y);const X=u.fromEntries||(e=>{const t={};for(const[r,o]of e)t[r]=o;return t});o.fromEntries(X);const{defineProperty:Z}=u;o.defineProperty(((e,t,r)=>{const o=Z(e,t,r);if(o!==e)throw j(`Please report that the original defineProperty silently failed to set ${Y(b(t))}. (SES_DEFINE_PROPERTY_FAILED_SILENTLY)`);return o}));const{apply:Q,construct:ee,get:te,getOwnPropertyDescriptor:re,has:oe,isExtensible:ne,ownKeys:se,preventExtensions:ae,set:ie}=g;o.apply(Q),o.construct(ee),o.reflectGet(te),o.reflectGetOwnPropertyDescriptor(re),o.reflectHas(oe),o.reflectIsExtensible(ne),o.ownKeys(se),o.reflectPreventExtensions(ae),o.reflectSet(ie);const{isArray:ce,prototype:le}=s;o.isArray(ce),o.arrayPrototype(le);const{prototype:pe}=l;o.mapPrototype(pe);const{revocable:me}=f;o.proxyRevocable(me);const{prototype:ue}=RegExp;o.regexpPrototype(ue);const{prototype:ye}=E;o.setPrototype(ye);const{prototype:fe}=b;o.stringPrototype(fe);const{prototype:ge}=P;o.weakmapPrototype(ge);const{prototype:de}=w;o.weaksetPrototype(de);const{prototype:Ee}=Function;o.functionPrototype(Ee);const{prototype:be}=y;o.promisePrototype(be);const Pe=N(Uint8Array.prototype);o.typedArrayPrototype(Pe);const we=e=>function(t){for(var r=arguments.length,o=new s(r>1?r-1:0),n=1;n<r;n++)o[n-1]=arguments[n];return Q(e,t,o)};o.uncurryThis(we);const he=we($.hasOwnProperty);o.objectHasOwnProperty(he);const ve=we(le.filter);o.arrayFilter(ve);const Se=we(le.forEach);o.arrayForEach(Se);const ke=we(le.includes);o.arrayIncludes(ke);const je=we(le.join);o.arrayJoin(je);const Ae=we(le.map);o.arrayMap(Ae);const Te=we(le.pop);o.arrayPop(Te);const xe=we(le.push);o.arrayPush(xe);const Ie=we(le.slice);o.arraySlice(Ie);const Oe=we(le.some);o.arraySome(Oe);const Ce=we(le.sort);o.arraySort(Ce);const _e=we(le[B]);o.iterateArray(_e);const Fe=we(pe.set);o.mapSet(Fe);const Ne=we(pe.get);o.mapGet(Ne);const Re=we(pe.has);o.mapHas(Re);const Ve=we(pe[B]);o.iterateMap(Ve);const Me=we(ye.add);o.setAdd(Me);const $e=we(ye.delete);o.setDelete($e);const Le=we(ye.forEach);o.setForEach(Le);const Ge=we(ye.has);o.setHas(Ge);const De=we(ye[B]);o.iterateSet(De);const Ue=we(ue.test);o.regexpTest(Ue);const He=we(ue.exec);o.regexpExec(He);const We=we(ue[z]);o.matchAllRegExp(We);const Be=we(fe.endsWith);o.stringEndsWith(Be);const ze=we(fe.includes);o.stringIncludes(ze);const Ke=we(fe.indexOf);o.stringIndexOf(Ke);const Je=we(fe.match);o.stringMatch(Je);const qe=we(fe.replace);o.stringReplace(qe);const Ye=we(fe.search);o.stringSearch(Ye);const Xe=we(fe.slice);o.stringSlice(Xe);const Ze=we(fe.split);o.stringSplit(Ze);const Qe=we(fe.startsWith);o.stringStartsWith(Qe);const et=we(fe[B]);o.iterateString(et);const tt=we(ge.delete);o.weakmapDelete(tt);const rt=we(ge.get);o.weakmapGet(rt);const ot=we(ge.has);o.weakmapHas(ot);const nt=we(ge.set);o.weakmapSet(nt);const st=we(de.add);o.weaksetAdd(st);const at=we(de.get);o.weaksetGet(at);const it=we(de.has);o.weaksetHas(it);const ct=we(Ee.toString);o.functionToString(ct);const{all:lt}=y;o.promiseAll((e=>Q(lt,y,[e])));const pt=we(be.catch);o.promiseCatch(pt);const mt=we(be.then);o.promiseThen(mt);o.getConstructorOf((e=>te(N(e),"constructor")));const ut=O(T(null));o.immutableObject(ut);o.isObject((e=>u(e)===e));o.isError((e=>e instanceof h));const yt=eval;o.FERAL_EVAL(yt);const ft=Function;o.FERAL_FUNCTION(ft);o.noEvalEvaluate((()=>{throw new j('Cannot eval with evalTaming set to "noEval" (SES_NO_EVAL)')}))},e=>{let{imports:t,liveVar:r,onceVar:o}=e;t([])},e=>{let t,r,o,n,s,a,i,c,l,p,m,u,y,{imports:f,liveVar:g,onceVar:d}=e;f([["../commons.js",[["Set",[e=>t=e]],["String",[e=>r=e]],["arrayJoin",[e=>o=e]],["arraySlice",[e=>n=e]],["freeze",[e=>s=e]],["is",[e=>a=e]],["isError",[e=>i=e]],["setAdd",[e=>c=e]],["setHas",[e=>l=e]],["stringIncludes",[e=>p=e]],["stringStartsWith",[e=>m=e]],["stringifyJson",[e=>u=e]],["toStringTagSymbol",[e=>y=e]]]]]);d.enJoin(((e,t)=>{if(0===e.length)return"(none)";if(1===e.length)return e[0];if(2===e.length){const[r,o]=e;return`${r} ${t} ${o}`}return`${o(n(e,0,-1),", ")}, ${t} ${e[e.length-1]}`}));const E=e=>(e=`${e}`).length>=1&&p("aeiouAEIOU",e[0])?`an ${e}`:`a ${e}`;d.an(E),s(E);const b=function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;const n=new t,s=(e,t)=>{switch(typeof t){case"object":return null===t?null:l(n,t)?"[Seen]":(c(n,t),i(t)?`[${t.name}: ${t.message}]`:y in t?`[${t[y]}]`:t);case"function":return`[Function ${t.name||"<anon>"}]`;case"string":return m(t,"[")?`[${t}]`:t;case"undefined":case"symbol":return`[${r(t)}]`;case"bigint":return`[${t}n]`;case"number":return a(t,NaN)?"[NaN]":t===1/0?"[Infinity]":t===-1/0?"[-Infinity]":t;default:return t}};try{return u(e,s,o)}catch(p){return"[Something that failed to stringify]"}};d.bestEffortStringify(b),s(b)},e=>{let{imports:t,liveVar:r,onceVar:o}=e;t([])},e=>{let t,r,o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,b,P,w,h,v,{imports:S,liveVar:k,onceVar:j}=e;S([["../commons.js",[["RangeError",[e=>t=e]],["TypeError",[e=>r=e]],["WeakMap",[e=>o=e]],["arrayJoin",[e=>n=e]],["arrayMap",[e=>s=e]],["arrayPop",[e=>a=e]],["arrayPush",[e=>i=e]],["assign",[e=>c=e]],["freeze",[e=>l=e]],["globalThis",[e=>p=e]],["is",[e=>m=e]],["isError",[e=>u=e]],["stringIndexOf",[e=>y=e]],["stringReplace",[e=>f=e]],["stringSlice",[e=>g=e]],["stringStartsWith",[e=>d=e]],["weakmapDelete",[e=>E=e]],["weakmapGet",[e=>b=e]],["weakmapHas",[e=>P=e]],["weakmapSet",[e=>w=e]]]],["./stringify-utils.js",[["an",[e=>h=e]],["bestEffortStringify",[e=>v=e]]]],["./types.js",[]],["./internal-types.js",[]]]);const A=new o,T=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;const r=l({toString:l((()=>v(e,t)))});return w(A,r,e),r};l(T);const x=new o,I=e=>{let{template:t,args:r}=e;const o=[t[0]];for(let n=0;n<r.length;n+=1){const e=r[n];let s;s=P(A,e)?`${e}`:u(e)?`(${h(e.name)})`:`(${h(typeof e)})`,i(o,s,t[n+1])}return n(o,"")},O=l({toString(){const e=b(x,this);return void 0===e?"[Not a DetailsToken]":I(e)}});l(O.toString);const C=function(e){const t=l({__proto__:O});for(var r=arguments.length,o=new Array(r>1?r-1:0),n=1;n<r;n++)o[n-1]=arguments[n];return w(x,t,{template:e,args:o}),t};l(C);const _=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return r=s(r,(e=>P(A,e)?e:T(e))),C(e,...r)};j.unredactedDetails(_),l(_);const F=e=>{let{template:t,args:r}=e;const o=[t[0]];for(let n=0;n<r.length;n+=1){let e=r[n];P(A,e)&&(e=b(A,e));const s=f(a(o)||"",/ $/,"");""!==s&&i(o,s);const c=f(t[n+1],/^ /,"");i(o,e,c)}return""===o[o.length-1]&&a(o),o},N=new o;let R=0;const V=new o,M=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.name,r=b(V,e);return void 0!==r||(R+=1,r=`${t}#${R}`,w(V,e,r)),r},$=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C`Assert failed`,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.Error,{errorName:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"string"===typeof e&&(e=C([e]));const n=b(x,e);if(void 0===n)throw new r(`unrecognized details ${T(e)}`);const s=I(n),a=new t(s);return w(N,a,F(n)),void 0!==o&&M(a,o),a};l($);const L=new o,G=new o,D=(e,t)=>{"string"===typeof t&&(t=C([t]));const o=b(x,t);if(void 0===o)throw new r(`unrecognized details ${T(t)}`);const n=F(o),s=b(G,e);if(void 0!==s)for(const r of s)r(e,n);else{const t=b(L,e);void 0!==t?i(t,n):w(L,e,[n])}};l(D);const U={getStackString:p.getStackString||(e=>{if(!("stack"in e))return"";const t=`${e.stack}`,r=y(t,"\n");return d(t," ")||-1===r?t:g(t,r+1)}),tagError:e=>M(e),resetErrorTagNum:()=>{R=0},getMessageLogArgs:e=>b(N,e),takeMessageLogArgs:e=>{const t=b(N,e);return E(N,e),t},takeNoteLogArgsArray:(e,t)=>{const r=b(L,e);if(E(L,e),void 0!==t){const r=b(G,e);r?i(r,t):w(G,e,[t])}return r||[]}};j.loggedErrorHandler(U),l(U);const H=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=o?_:C,s=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n`Assert failed`,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.Error;const o=$(t,r);throw void 0!==e&&e(o),o};function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n`Check failed`,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.Error;if(!e)throw s(t,r)}l(s);const i=function(e,r){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n`Expected ${e} is same as ${r}`,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;a(m(e,r),o,s)};l(i);const u=(e,t,o)=>{a("string"===typeof t,n`${T(t)} must be a string`),void 0===o&&(o=n(["",` must be ${h(t)}`],e)),i(typeof e,t,o,r)};l(u);const y=(e,t)=>u(e,"string",t),f=c(a,{error:$,fail:s,equal:i,typeof:u,string:y,note:D,details:n,quote:T,makeAssert:H});return l(f)};j.makeAssert(H),l(H);const W=H();j.assert(W)},e=>{let t,r,{imports:o,liveVar:n,onceVar:s}=e;function a(e){return 0===e.length?"":`const {${r(e,",")}} = this;`}o([["./commons.js",[["FERAL_FUNCTION",[e=>t=e]],["arrayJoin",[e=>r=e]]]]]);s.makeEvaluateFactory((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const r=a(e);return t(`\n    with (this) {\n      ${r}\n      return function() {\n        'use strict';\n        return eval(arguments[0]);\n      };\n    }\n  `)}))},e=>{let t,r,o,n,s,a,{imports:i,liveVar:c,onceVar:l}=e;i([["./commons.js",[["arrayFilter",[e=>t=e]],["arrayIncludes",[e=>r=e]],["getOwnPropertyDescriptor",[e=>o=e]],["getOwnPropertyNames",[e=>n=e]],["objectHasOwnProperty",[e=>s=e]],["regexpTest",[e=>a=e]]]]]);const p=["await","break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","finally","for","function","if","import","in","instanceof","new","return","super","switch","this","throw","try","typeof","var","void","while","with","yield","let","static","enum","implements","package","protected","interface","private","public","await","null","true","false","this","arguments"],m=/^[a-zA-Z_$][\w$]*$/,u=e=>"eval"!==e&&!r(p,e)&&a(m,e);function y(e,t){const r=o(e,t);return!1===r.configurable&&!1===r.writable&&s(r,"value")}l.isValidIdentifierName(u);l.getScopeConstants((function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=n(e),a=n(o),i=t(a,(e=>u(e)&&y(o,e))),c=t(s,(t=>!r(a,t)&&u(t)&&y(e,t)));return[...c,...i]}))},e=>{let t,r,o,n,s,a,i,c,l,p,m,u,y,f,g,{imports:d,liveVar:E,onceVar:b}=e;d([["./commons.js",[["FERAL_EVAL",[e=>t=e]],["Proxy",[e=>r=e]],["String",[e=>o=e]],["TypeError",[e=>n=e]],["create",[e=>s=e]],["freeze",[e=>a=e]],["getOwnPropertyDescriptor",[e=>i=e]],["getOwnPropertyDescriptors",[e=>c=e]],["globalThis",[e=>l=e]],["immutableObject",[e=>p=e]],["objectHasOwnProperty",[e=>m=e]],["reflectGet",[e=>u=e]],["reflectSet",[e=>y=e]],["seal",[e=>f=e]]]],["./error/assert.js",[["assert",[e=>g=e]]]]]);const{details:P,quote:w}=g,h=new r(p,a({get(e,t){g.fail(P`Please report unexpected scope handler trap: ${w(o(t))}`)}}));b.createScopeHandler((function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{sloppyGlobalsMode:p=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const g={allowNextEvalToBeUnsafe:!1};f(g);const d={get(o,n){if("symbol"!==typeof n)return"eval"===n&&!0===g.allowNextEvalToBeUnsafe?(g.allowNextEvalToBeUnsafe=!1,t):n in r?u(r,n,e):u(e,n)},set(t,o,n){if(o in r){const t=i(r,o);return m(t,"value")?y(r,o,n):y(r,o,n,e)}return y(e,o,n)},has:(t,o)=>p||g.allowNextEvalToBeUnsafe&&"eval"===o||o in r||o in e||o in l,getPrototypeOf:()=>null,getOwnPropertyDescriptor(e,t){const r=w(o(t));console.warn(`getOwnPropertyDescriptor trap on scopeHandler for ${r}`,(new n).stack)}},E=a(s(h,c(d)));return{scopeController:g,scopeHandler:E}}))},e=>{let t,r,o,{imports:n,liveVar:s,onceVar:a}=e;n([["./commons.js",[["FERAL_REG_EXP",[e=>t=e]],["regexpExec",[e=>r=e]],["stringSlice",[e=>o=e]]]]]);const i="\\s*[@#]\\s*([a-zA-Z][a-zA-Z0-9]*)\\s*=\\s*([^\\s\\*]*)",c=new t(`(?:\\s*//${i}|/\\*${i}\\s*\\*/)\\s*$`);a.getSourceURL((e=>{let t="<unknown>";for(;e.length>0;){const n=r(c,e);if(null===n)break;e=o(e,0,e.length-n[0].length),"sourceURL"===n[3]?t=n[4]:"sourceURL"===n[1]&&(t=n[2])}return t}))},e=>{let t,r,o,n,s,a,i,{imports:c,liveVar:l,onceVar:p}=e;function m(e,t){const r=n(e,t);if(r<0)return-1;const o="\n"===e[r]?1:0;return a(s(e,0,r),"\n").length+o}c([["./commons.js",[["FERAL_REG_EXP",[e=>t=e]],["SyntaxError",[e=>r=e]],["stringReplace",[e=>o=e]],["stringSearch",[e=>n=e]],["stringSlice",[e=>s=e]],["stringSplit",[e=>a=e]]]],["./get-source-url.js",[["getSourceURL",[e=>i=e]]]]]);const u=new t("(?:\x3c!--|--\x3e)","g"),y=e=>{const t=m(e,u);if(t<0)return e;const o=i(e);throw new r(`Possible HTML comment rejected at ${o}:${t}. (SES_HTML_COMMENT_REJECTED)`)};p.rejectHtmlComments(y);p.evadeHtmlCommentTest((e=>o(e,u,(e=>"<"===e[0]?"< ! --":"-- >"))));const f=new t("(^|[^.])\\bimport(\\s*(?:\\(|/[/*]))","g"),g=e=>{const t=m(e,f);if(t<0)return e;const o=i(e);throw new r(`Possible import expression rejected at ${o}:${t}. (SES_IMPORT_REJECTED)`)};p.rejectImportExpressions(g);p.evadeImportExpressionTest((e=>o(e,f,((e,t,r)=>`${t}__import__${r}`))));const d=new t("(^|[^.])\\beval(\\s*\\()","g");p.rejectSomeDirectEvalExpressions((e=>{const t=m(e,d);if(t<0)return e;const o=i(e);throw new r(`Possible direct eval expression rejected at ${o}:${t}. (SES_EVAL_REJECTED)`)}));p.mandatoryTransforms((e=>(e=y(e),e=g(e))));p.applyTransforms(((e,t)=>{for(const r of t)e=r(e);return e}))},e=>{let t,r,o,n,s,a,i,c,l,p,m,{imports:u,liveVar:y,onceVar:f}=e;u([["./commons.js",[["WeakSet",[e=>t=e]],["apply",[e=>r=e]],["immutableObject",[e=>o=e]],["proxyRevocable",[e=>n=e]],["weaksetAdd",[e=>s=e]]]],["./scope-constants.js",[["getScopeConstants",[e=>a=e]]]],["./scope-handler.js",[["createScopeHandler",[e=>i=e]]]],["./transforms.js",[["applyTransforms",[e=>c=e]],["mandatoryTransforms",[e=>l=e]]]],["./make-evaluate-factory.js",[["makeEvaluateFactory",[e=>p=e]]]],["./error/assert.js",[["assert",[e=>m=e]]]]]);const{details:g}=m;f.makeSafeEvaluator((function(){let{globalObject:e,globalLexicals:u={},globalTransforms:y=[],sloppyGlobalsMode:f=!1,knownScopeProxies:d=new t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{scopeHandler:E,scopeController:b}=i(e,u,{sloppyGlobalsMode:f}),{proxy:P,revoke:w}=n(o,E);let h;s(d,P);const v=()=>{if(!h){const t=a(e,u),o=p(t);h=r(o,P,[])}},S=function(t){let o,{localTransforms:n=[]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(),t=c(t,[...n,...y,l]),b.allowNextEvalToBeUnsafe=!0;try{return r(h,e,[t])}catch(s){throw o=s,s}finally{const e=b.allowNextEvalToBeUnsafe;b.allowNextEvalToBeUnsafe=!1,e&&(w(),m.fail(g`handler did not reset allowNextEvalToBeUnsafe ${o}`))}};return{safeEvaluate:S}}))},e=>{let t,r,o,n,s,a,i,c,l,{imports:p,liveVar:m,onceVar:u}=e;p([["./commons.js",[["TypeError",[e=>t=e]],["arrayPush",[e=>r=e]],["create",[e=>o=e]],["defineProperties",[e=>n=e]],["getOwnPropertyDescriptors",[e=>s=e]]]],["./transforms.js",[["evadeHtmlCommentTest",[e=>a=e]],["evadeImportExpressionTest",[e=>i=e]],["rejectSomeDirectEvalExpressions",[e=>c=e]]]],["./make-safe-evaluator.js",[["makeSafeEvaluator",[e=>l=e]]]]]);const y=(e,t)=>{const{sloppyGlobalsMode:r=!1,__moduleShimLexicals__:a}=t;let i;if(void 0!==a||r){let{globalTransforms:t}=e;const{globalObject:c,globalLexicals:p,knownScopeProxies:m}=e;let u=p;void 0!==a&&(t=void 0,u=o(null,s(p)),n(u,s(a))),({safeEvaluate:i}=l({globalObject:c,globalLexicals:u,globalTransforms:t,sloppyGlobalsMode:r,knownScopeProxies:m}))}else({safeEvaluate:i}=e);return{safeEvaluate:i}};u.provideCompartmentEvaluator(y);u.compartmentEvaluate(((e,o,n)=>{if("string"!==typeof o)throw new t("first argument of evaluate() must be a string");const{transforms:s=[],__evadeHtmlCommentTest__:l=!1,__evadeImportExpressionTest__:p=!1,__rejectSomeDirectEvalExpressions__:m=!0}=n,u=[...s];!0===l&&r(u,a),!0===p&&r(u,i),!0===m&&r(u,c);const{safeEvaluate:f}=y(e,n);return f(o,{localTransforms:u})}))},e=>{let{imports:t,liveVar:r,onceVar:o}=e;t([]);o.makeEvalFunction((e=>t=>"string"!==typeof t?t:e(t)))},e=>{let t,r,o,n,s,a,{imports:i,liveVar:c,onceVar:l}=e;i([["./commons.js",[["FERAL_FUNCTION",[e=>t=e]],["arrayJoin",[e=>r=e]],["arrayPop",[e=>o=e]],["defineProperties",[e=>n=e]],["getPrototypeOf",[e=>s=e]]]],["./error/assert.js",[["assert",[e=>a=e]]]]]);l.makeFunctionConstructor((e=>{const i=function(n){const s=`${o(arguments)||""}`,a=`${r(arguments,",")}`;new t(a,""),new t(s);const i=`(function anonymous(${a}\n) {\n${s}\n})`;return e(i)};return n(i,{prototype:{value:t.prototype,writable:!1,enumerable:!1,configurable:!1}}),a(s(t)===t.prototype,"Function prototype is the same accross compartments"),a(s(i)===t.prototype,"Function constructor prototype is the same accross compartments"),i}))},e=>{let{imports:t,liveVar:r,onceVar:o}=e;t([]);const n={Infinity:1/0,NaN:NaN,undefined:void 0};o.constantProperties(n);o.universalPropertyNames({isFinite:"isFinite",isNaN:"isNaN",parseFloat:"parseFloat",parseInt:"parseInt",decodeURI:"decodeURI",decodeURIComponent:"decodeURIComponent",encodeURI:"encodeURI",encodeURIComponent:"encodeURIComponent",Array:"Array",ArrayBuffer:"ArrayBuffer",BigInt:"BigInt",BigInt64Array:"BigInt64Array",BigUint64Array:"BigUint64Array",Boolean:"Boolean",DataView:"DataView",EvalError:"EvalError",Float32Array:"Float32Array",Float64Array:"Float64Array",Int8Array:"Int8Array",Int16Array:"Int16Array",Int32Array:"Int32Array",Map:"Map",Number:"Number",Object:"Object",Promise:"Promise",Proxy:"Proxy",RangeError:"RangeError",ReferenceError:"ReferenceError",Set:"Set",String:"String",Symbol:"Symbol",SyntaxError:"SyntaxError",TypeError:"TypeError",Uint8Array:"Uint8Array",Uint8ClampedArray:"Uint8ClampedArray",Uint16Array:"Uint16Array",Uint32Array:"Uint32Array",URIError:"URIError",WeakMap:"WeakMap",WeakSet:"WeakSet",JSON:"JSON",Reflect:"Reflect",escape:"escape",unescape:"unescape",lockdown:"lockdown",harden:"harden",HandledPromise:"HandledPromise"});o.initialGlobalPropertyNames({Date:"%InitialDate%",Error:"%InitialError%",RegExp:"%InitialRegExp%",Math:"%InitialMath%",getStackString:"%InitialGetStackString%"});o.sharedGlobalPropertyNames({Date:"%SharedDate%",Error:"%SharedError%",RegExp:"%SharedRegExp%",Math:"%SharedMath%"});o.uniqueGlobalPropertyNames({globalThis:"%UniqueGlobalThis%",eval:"%UniqueEval%",Function:"%UniqueFunction%",Compartment:"%UniqueCompartment%"});const s=[EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError];o.NativeErrors(s);const a={"[[Proto]]":"%FunctionPrototype%",length:"number",name:"string"};o.FunctionInstance(a);const i=a,c={"[[Proto]]":"%AsyncFunctionPrototype%"},l={get:i,set:"undefined"},p={get:i,set:i};function m(e){return{"[[Proto]]":"%SharedError%",prototype:e}}function u(e){return{"[[Proto]]":"%ErrorPrototype%",constructor:e,message:"string",name:"string",toString:!1,cause:!1}}function y(e){return{"[[Proto]]":"%TypedArray%",BYTES_PER_ELEMENT:"number",prototype:e}}function f(e){return{"[[Proto]]":"%TypedArrayPrototype%",BYTES_PER_ELEMENT:"number",constructor:e}}o.isAccessorPermit((e=>e===l||e===p));const g={E:"number",LN10:"number",LN2:"number",LOG10E:"number",LOG2E:"number",PI:"number",SQRT1_2:"number",SQRT2:"number","@@toStringTag":"string",abs:i,acos:i,acosh:i,asin:i,asinh:i,atan:i,atanh:i,atan2:i,cbrt:i,ceil:i,clz32:i,cos:i,cosh:i,exp:i,expm1:i,floor:i,fround:i,hypot:i,imul:i,log:i,log1p:i,log10:i,log2:i,max:i,min:i,pow:i,round:i,sign:i,sin:i,sinh:i,sqrt:i,tan:i,tanh:i,trunc:i,idiv:!1,idivmod:!1,imod:!1,imuldiv:!1,irem:!1,mod:!1},d={"[[Proto]]":null,"%ThrowTypeError%":i,Infinity:"number",NaN:"number",undefined:"undefined","%UniqueEval%":i,isFinite:i,isNaN:i,parseFloat:i,parseInt:i,decodeURI:i,decodeURIComponent:i,encodeURI:i,encodeURIComponent:i,Object:{"[[Proto]]":"%FunctionPrototype%",assign:i,create:i,defineProperties:i,defineProperty:i,entries:i,freeze:i,fromEntries:i,getOwnPropertyDescriptor:i,getOwnPropertyDescriptors:i,getOwnPropertyNames:i,getOwnPropertySymbols:i,getPrototypeOf:i,hasOwn:i,is:i,isExtensible:i,isFrozen:i,isSealed:i,keys:i,preventExtensions:i,prototype:"%ObjectPrototype%",seal:i,setPrototypeOf:i,values:i},"%ObjectPrototype%":{"[[Proto]]":null,constructor:"Object",hasOwnProperty:i,isPrototypeOf:i,propertyIsEnumerable:i,toLocaleString:i,toString:i,valueOf:i,"--proto--":p,__defineGetter__:i,__defineSetter__:i,__lookupGetter__:i,__lookupSetter__:i},"%UniqueFunction%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%FunctionPrototype%"},"%InertFunction%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%FunctionPrototype%"},"%FunctionPrototype%":{apply:i,bind:i,call:i,constructor:"%InertFunction%",toString:i,"@@hasInstance":i,caller:!1,arguments:!1},Boolean:{"[[Proto]]":"%FunctionPrototype%",prototype:"%BooleanPrototype%"},"%BooleanPrototype%":{constructor:"Boolean",toString:i,valueOf:i},Symbol:{"[[Proto]]":"%FunctionPrototype%",asyncIterator:"symbol",for:i,hasInstance:"symbol",isConcatSpreadable:"symbol",iterator:"symbol",keyFor:i,match:"symbol",matchAll:"symbol",prototype:"%SymbolPrototype%",replace:"symbol",search:"symbol",species:"symbol",split:"symbol",toPrimitive:"symbol",toStringTag:"symbol",unscopables:"symbol"},"%SymbolPrototype%":{constructor:"Symbol",description:l,toString:i,valueOf:i,"@@toPrimitive":i,"@@toStringTag":"string"},"%InitialError%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%ErrorPrototype%",captureStackTrace:i,stackTraceLimit:p,prepareStackTrace:p},"%SharedError%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%ErrorPrototype%",captureStackTrace:i,stackTraceLimit:p,prepareStackTrace:p},"%ErrorPrototype%":{constructor:"%SharedError%",message:"string",name:"string",toString:i,at:!1,stack:!1,cause:!1},EvalError:m("%EvalErrorPrototype%"),RangeError:m("%RangeErrorPrototype%"),ReferenceError:m("%ReferenceErrorPrototype%"),SyntaxError:m("%SyntaxErrorPrototype%"),TypeError:m("%TypeErrorPrototype%"),URIError:m("%URIErrorPrototype%"),"%EvalErrorPrototype%":u("EvalError"),"%RangeErrorPrototype%":u("RangeError"),"%ReferenceErrorPrototype%":u("ReferenceError"),"%SyntaxErrorPrototype%":u("SyntaxError"),"%TypeErrorPrototype%":u("TypeError"),"%URIErrorPrototype%":u("URIError"),Number:{"[[Proto]]":"%FunctionPrototype%",EPSILON:"number",isFinite:i,isInteger:i,isNaN:i,isSafeInteger:i,MAX_SAFE_INTEGER:"number",MAX_VALUE:"number",MIN_SAFE_INTEGER:"number",MIN_VALUE:"number",NaN:"number",NEGATIVE_INFINITY:"number",parseFloat:i,parseInt:i,POSITIVE_INFINITY:"number",prototype:"%NumberPrototype%"},"%NumberPrototype%":{constructor:"Number",toExponential:i,toFixed:i,toLocaleString:i,toPrecision:i,toString:i,valueOf:i},BigInt:{"[[Proto]]":"%FunctionPrototype%",asIntN:i,asUintN:i,prototype:"%BigIntPrototype%",bitLength:!1,fromArrayBuffer:!1},"%BigIntPrototype%":{constructor:"BigInt",toLocaleString:i,toString:i,valueOf:i,"@@toStringTag":"string"},"%InitialMath%":{...g,random:i},"%SharedMath%":g,"%InitialDate%":{"[[Proto]]":"%FunctionPrototype%",now:i,parse:i,prototype:"%DatePrototype%",UTC:i},"%SharedDate%":{"[[Proto]]":"%FunctionPrototype%",now:i,parse:i,prototype:"%DatePrototype%",UTC:i},"%DatePrototype%":{constructor:"%SharedDate%",getDate:i,getDay:i,getFullYear:i,getHours:i,getMilliseconds:i,getMinutes:i,getMonth:i,getSeconds:i,getTime:i,getTimezoneOffset:i,getUTCDate:i,getUTCDay:i,getUTCFullYear:i,getUTCHours:i,getUTCMilliseconds:i,getUTCMinutes:i,getUTCMonth:i,getUTCSeconds:i,setDate:i,setFullYear:i,setHours:i,setMilliseconds:i,setMinutes:i,setMonth:i,setSeconds:i,setTime:i,setUTCDate:i,setUTCFullYear:i,setUTCHours:i,setUTCMilliseconds:i,setUTCMinutes:i,setUTCMonth:i,setUTCSeconds:i,toDateString:i,toISOString:i,toJSON:i,toLocaleDateString:i,toLocaleString:i,toLocaleTimeString:i,toString:i,toTimeString:i,toUTCString:i,valueOf:i,"@@toPrimitive":i,getYear:i,setYear:i,toGMTString:i},String:{"[[Proto]]":"%FunctionPrototype%",fromCharCode:i,fromCodePoint:i,prototype:"%StringPrototype%",raw:i,fromArrayBuffer:!1},"%StringPrototype%":{length:"number",at:i,charAt:i,charCodeAt:i,codePointAt:i,concat:i,constructor:"String",endsWith:i,includes:i,indexOf:i,lastIndexOf:i,localeCompare:i,match:i,matchAll:i,normalize:i,padEnd:i,padStart:i,repeat:i,replace:i,replaceAll:i,search:i,slice:i,split:i,startsWith:i,substring:i,toLocaleLowerCase:i,toLocaleUpperCase:i,toLowerCase:i,toString:i,toUpperCase:i,trim:i,trimEnd:i,trimStart:i,valueOf:i,"@@iterator":i,substr:i,anchor:i,big:i,blink:i,bold:i,fixed:i,fontcolor:i,fontsize:i,italics:i,link:i,small:i,strike:i,sub:i,sup:i,trimLeft:i,trimRight:i,compare:!1},"%StringIteratorPrototype%":{"[[Proto]]":"%IteratorPrototype%",next:i,"@@toStringTag":"string"},"%InitialRegExp%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%RegExpPrototype%","@@species":l,input:!1,$_:!1,lastMatch:!1,"$&":!1,lastParen:!1,"$+":!1,leftContext:!1,"$`":!1,rightContext:!1,"$'":!1,$1:!1,$2:!1,$3:!1,$4:!1,$5:!1,$6:!1,$7:!1,$8:!1,$9:!1},"%SharedRegExp%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%RegExpPrototype%","@@species":l},"%RegExpPrototype%":{constructor:"%SharedRegExp%",exec:i,dotAll:l,flags:l,global:l,ignoreCase:l,"@@match":i,"@@matchAll":i,multiline:l,"@@replace":i,"@@search":i,source:l,"@@split":i,sticky:l,test:i,toString:i,unicode:l,compile:!1,hasIndices:!1},"%RegExpStringIteratorPrototype%":{"[[Proto]]":"%IteratorPrototype%",next:i,"@@toStringTag":"string"},Array:{"[[Proto]]":"%FunctionPrototype%",from:i,isArray:i,of:i,prototype:"%ArrayPrototype%","@@species":l,at:i},"%ArrayPrototype%":{at:i,length:"number",concat:i,constructor:"Array",copyWithin:i,entries:i,every:i,fill:i,filter:i,find:i,findIndex:i,flat:i,flatMap:i,forEach:i,includes:i,indexOf:i,join:i,keys:i,lastIndexOf:i,map:i,pop:i,push:i,reduce:i,reduceRight:i,reverse:i,shift:i,slice:i,some:i,sort:i,splice:i,toLocaleString:i,toString:i,unshift:i,values:i,"@@iterator":i,"@@unscopables":{"[[Proto]]":null,copyWithin:"boolean",entries:"boolean",fill:"boolean",find:"boolean",findIndex:"boolean",flat:"boolean",flatMap:"boolean",includes:"boolean",keys:"boolean",values:"boolean",at:!1,findLast:"boolean",findLastIndex:"boolean"},findLast:i,findLastIndex:i},"%ArrayIteratorPrototype%":{"[[Proto]]":"%IteratorPrototype%",next:i,"@@toStringTag":"string"},"%TypedArray%":{"[[Proto]]":"%FunctionPrototype%",from:i,of:i,prototype:"%TypedArrayPrototype%","@@species":l},"%TypedArrayPrototype%":{at:i,buffer:l,byteLength:l,byteOffset:l,constructor:"%TypedArray%",copyWithin:i,entries:i,every:i,fill:i,filter:i,find:i,findIndex:i,forEach:i,includes:i,indexOf:i,join:i,keys:i,lastIndexOf:i,length:l,map:i,reduce:i,reduceRight:i,reverse:i,set:i,slice:i,some:i,sort:i,subarray:i,toLocaleString:i,toString:i,values:i,"@@iterator":i,"@@toStringTag":l,findLast:i,findLastIndex:i},BigInt64Array:y("%BigInt64ArrayPrototype%"),BigUint64Array:y("%BigUint64ArrayPrototype%"),Float32Array:y("%Float32ArrayPrototype%"),Float64Array:y("%Float64ArrayPrototype%"),Int16Array:y("%Int16ArrayPrototype%"),Int32Array:y("%Int32ArrayPrototype%"),Int8Array:y("%Int8ArrayPrototype%"),Uint16Array:y("%Uint16ArrayPrototype%"),Uint32Array:y("%Uint32ArrayPrototype%"),Uint8Array:y("%Uint8ArrayPrototype%"),Uint8ClampedArray:y("%Uint8ClampedArrayPrototype%"),"%BigInt64ArrayPrototype%":f("BigInt64Array"),"%BigUint64ArrayPrototype%":f("BigUint64Array"),"%Float32ArrayPrototype%":f("Float32Array"),"%Float64ArrayPrototype%":f("Float64Array"),"%Int16ArrayPrototype%":f("Int16Array"),"%Int32ArrayPrototype%":f("Int32Array"),"%Int8ArrayPrototype%":f("Int8Array"),"%Uint16ArrayPrototype%":f("Uint16Array"),"%Uint32ArrayPrototype%":f("Uint32Array"),"%Uint8ArrayPrototype%":f("Uint8Array"),"%Uint8ClampedArrayPrototype%":f("Uint8ClampedArray"),Map:{"[[Proto]]":"%FunctionPrototype%","@@species":l,prototype:"%MapPrototype%"},"%MapPrototype%":{clear:i,constructor:"Map",delete:i,entries:i,forEach:i,get:i,has:i,keys:i,set:i,size:l,values:i,"@@iterator":i,"@@toStringTag":"string"},"%MapIteratorPrototype%":{"[[Proto]]":"%IteratorPrototype%",next:i,"@@toStringTag":"string"},Set:{"[[Proto]]":"%FunctionPrototype%",prototype:"%SetPrototype%","@@species":l},"%SetPrototype%":{add:i,clear:i,constructor:"Set",delete:i,entries:i,forEach:i,has:i,keys:i,size:l,values:i,"@@iterator":i,"@@toStringTag":"string"},"%SetIteratorPrototype%":{"[[Proto]]":"%IteratorPrototype%",next:i,"@@toStringTag":"string"},WeakMap:{"[[Proto]]":"%FunctionPrototype%",prototype:"%WeakMapPrototype%"},"%WeakMapPrototype%":{constructor:"WeakMap",delete:i,get:i,has:i,set:i,"@@toStringTag":"string"},WeakSet:{"[[Proto]]":"%FunctionPrototype%",prototype:"%WeakSetPrototype%"},"%WeakSetPrototype%":{add:i,constructor:"WeakSet",delete:i,has:i,"@@toStringTag":"string"},ArrayBuffer:{"[[Proto]]":"%FunctionPrototype%",isView:i,prototype:"%ArrayBufferPrototype%","@@species":l,fromString:!1,fromBigInt:!1},"%ArrayBufferPrototype%":{byteLength:l,constructor:"ArrayBuffer",slice:i,"@@toStringTag":"string",concat:!1,transfer:i,resize:i,resizable:l,maxByteLength:l},SharedArrayBuffer:!1,"%SharedArrayBufferPrototype%":!1,DataView:{"[[Proto]]":"%FunctionPrototype%",BYTES_PER_ELEMENT:"number",prototype:"%DataViewPrototype%"},"%DataViewPrototype%":{buffer:l,byteLength:l,byteOffset:l,constructor:"DataView",getBigInt64:i,getBigUint64:i,getFloat32:i,getFloat64:i,getInt8:i,getInt16:i,getInt32:i,getUint8:i,getUint16:i,getUint32:i,setBigInt64:i,setBigUint64:i,setFloat32:i,setFloat64:i,setInt8:i,setInt16:i,setInt32:i,setUint8:i,setUint16:i,setUint32:i,"@@toStringTag":"string"},Atomics:!1,JSON:{parse:i,stringify:i,"@@toStringTag":"string"},"%IteratorPrototype%":{"@@iterator":i},"%AsyncIteratorPrototype%":{"@@asyncIterator":i},"%InertGeneratorFunction%":{"[[Proto]]":"%InertFunction%",prototype:"%Generator%"},"%Generator%":{"[[Proto]]":"%FunctionPrototype%",constructor:"%InertGeneratorFunction%",prototype:"%GeneratorPrototype%","@@toStringTag":"string"},"%InertAsyncGeneratorFunction%":{"[[Proto]]":"%InertFunction%",prototype:"%AsyncGenerator%"},"%AsyncGenerator%":{"[[Proto]]":"%FunctionPrototype%",constructor:"%InertAsyncGeneratorFunction%",prototype:"%AsyncGeneratorPrototype%","@@toStringTag":"string"},"%GeneratorPrototype%":{"[[Proto]]":"%IteratorPrototype%",constructor:"%Generator%",next:i,return:i,throw:i,"@@toStringTag":"string"},"%AsyncGeneratorPrototype%":{"[[Proto]]":"%AsyncIteratorPrototype%",constructor:"%AsyncGenerator%",next:i,return:i,throw:i,"@@toStringTag":"string"},HandledPromise:{"[[Proto]]":"Promise",applyFunction:i,applyFunctionSendOnly:i,applyMethod:i,applyMethodSendOnly:i,get:i,getSendOnly:i,prototype:"%PromisePrototype%",resolve:i},Promise:{"[[Proto]]":"%FunctionPrototype%",all:i,allSettled:i,any:!1,prototype:"%PromisePrototype%",race:i,reject:i,resolve:i,"@@species":l},"%PromisePrototype%":{catch:i,constructor:"Promise",finally:i,then:i,"@@toStringTag":"string","UniqueSymbol(async_id_symbol)":p,"UniqueSymbol(trigger_async_id_symbol)":p,"UniqueSymbol(destroyed)":p},"%InertAsyncFunction%":{"[[Proto]]":"%InertFunction%",prototype:"%AsyncFunctionPrototype%"},"%AsyncFunctionPrototype%":{"[[Proto]]":"%FunctionPrototype%",constructor:"%InertAsyncFunction%","@@toStringTag":"string"},Reflect:{apply:i,construct:i,defineProperty:i,deleteProperty:i,get:i,getOwnPropertyDescriptor:i,getPrototypeOf:i,has:i,isExtensible:i,ownKeys:i,preventExtensions:i,set:i,setPrototypeOf:i,"@@toStringTag":"string"},Proxy:{"[[Proto]]":"%FunctionPrototype%",revocable:i},escape:i,unescape:i,"%UniqueCompartment%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%CompartmentPrototype%",toString:i},"%InertCompartment%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%CompartmentPrototype%",toString:i},"%CompartmentPrototype%":{constructor:"%InertCompartment%",evaluate:i,globalThis:l,name:l,toString:i,__isKnownScopeProxy__:i,import:c,load:c,importNow:i,module:i},lockdown:i,harden:i,"%InitialGetStackString%":i};o.whitelist(d)},e=>{let t,r,o,n,s,a,i,{imports:c,liveVar:l,onceVar:p}=e;c([["./commons.js",[["defineProperty",[e=>t=e]],["objectHasOwnProperty",[e=>r=e]],["entries",[e=>o=e]]]],["./make-eval-function.js",[["makeEvalFunction",[e=>n=e]]]],["./make-function-constructor.js",[["makeFunctionConstructor",[e=>s=e]]]],["./whitelist.js",[["constantProperties",[e=>a=e]],["universalPropertyNames",[e=>i=e]]]]]);p.setGlobalObjectConstantProperties((e=>{for(const[r,n]of o(a))t(e,r,{value:n,writable:!1,enumerable:!1,configurable:!1})}));p.setGlobalObjectMutableProperties(((e,n)=>{let{intrinsics:s,newGlobalPropertyNames:a,makeCompartmentConstructor:c,markVirtualizedNativeFunction:l}=n;for(const[m,u]of o(i))r(s,u)&&t(e,m,{value:s[u],writable:!0,enumerable:!1,configurable:!0});for(const[i,m]of o(a))r(s,m)&&t(e,i,{value:s[m],writable:!0,enumerable:!1,configurable:!0});const p={globalThis:e};p.Compartment=c(c,s,l);for(const[r,i]of o(p))t(e,r,{value:i,writable:!0,enumerable:!1,configurable:!0}),"function"===typeof i&&l(i)}));p.setGlobalObjectEvaluators(((e,r,o)=>{{const s=n(r);o(s),t(e,"eval",{value:s,writable:!0,enumerable:!1,configurable:!0})}{const n=s(r);o(n),t(e,"Function",{value:n,writable:!0,enumerable:!1,configurable:!0})}}))},e=>{let t,r,o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,b,{imports:P,liveVar:w,onceVar:h}=e;P([["./commons.js",[["ReferenceError",[e=>t=e]],["TypeError",[e=>r=e]],["Map",[e=>o=e]],["Set",[e=>n=e]],["arrayJoin",[e=>s=e]],["arrayMap",[e=>a=e]],["arrayPush",[e=>i=e]],["create",[e=>c=e]],["freeze",[e=>l=e]],["mapGet",[e=>p=e]],["mapHas",[e=>m=e]],["mapSet",[e=>u=e]],["setAdd",[e=>y=e]],["promiseCatch",[e=>f=e]],["promiseThen",[e=>g=e]],["values",[e=>d=e]],["weakmapGet",[e=>E=e]]]],["./error/assert.js",[["assert",[e=>b=e]]]]]);const{details:v,quote:S}=b,k=()=>{};h.makeAlias(((e,t)=>l({compartment:e,specifier:t})));const j=async(e,t,r,o,n,s,a,p)=>{const{resolveHook:m,moduleRecords:f}=E(e,r),b=((e,t,r)=>{const o=c(null);for(const n of e){const e=t(n,r);o[n]=e}return l(o)})(n.imports,m,o),P=l({compartment:r,staticModuleRecord:n,moduleSpecifier:o,resolvedImports:b});for(const c of d(b)){const o=A(e,t,r,c,s,a,p);y(s,g(o,k,(e=>{i(p,e)})))}return u(f,o,P),P},A=async(e,n,s,a,i,c,l)=>{const{name:y}=E(e,s);let g=p(c,s);void 0===g&&(g=new o,u(c,s,g));let d=p(g,a);return void 0!==d||(d=f((async(e,o,n,s,a,i,c)=>{const{importHook:l,moduleMap:y,moduleMapHook:f,moduleRecords:g}=E(e,n);let d=y[s];if(void 0===d&&void 0!==f&&(d=f(s)),"string"===typeof d)b.fail(v`Cannot map module ${S(s)} to ${S(d)} in parent compartment, not yet implemented`,r);else if(void 0!==d){const r=E(o,d);void 0===r&&b.fail(v`Cannot map module ${S(s)} because the value is not a module exports namespace, or is from another realm`,t);const n=await A(e,o,r.compartment,r.specifier,a,i,c);return u(g,s,n),n}if(m(g,s))return p(g,s);const P=await l(s);if(null!==P&&"object"===typeof P||b.fail(v`importHook must return a promise for an object, for module ${S(s)} in compartment ${S(n.name)}`),void 0!==P.record){const{compartment:t=n,specifier:r=s,record:l}=P,p=await j(e,o,t,r,l,a,i,c);return u(g,s,p),p}return j(e,o,n,s,P,a,i,c)})(e,n,s,a,i,c,l),(e=>{throw b.note(e,v`${e.message}, loading ${S(a)} in compartment ${S(y)}`),e})),u(g,a,d)),d};h.load((async(e,t,c,l)=>{const{name:p}=E(e,c),m=new n,u=new o,f=[],d=A(e,t,c,l,m,u,f);y(m,g(d,k,(e=>{i(f,e)})));for(const r of m)await r;if(f.length>0)throw new r(`Failed to load module ${S(l)} in package ${S(p)} (${f.length} underlying failures: ${s(a(f,(e=>e.message)),", ")}`)}))},e=>{let t,r,o,n,s,a,i,c,l,p,m,u,y,f,g,d,{imports:E,liveVar:b,onceVar:P}=e;E([["./module-load.js",[["makeAlias",[e=>t=e]]]],["./commons.js",[["Proxy",[e=>r=e]],["TypeError",[e=>o=e]],["create",[e=>n=e]],["freeze",[e=>s=e]],["mapGet",[e=>a=e]],["mapHas",[e=>i=e]],["mapSet",[e=>c=e]],["ownKeys",[e=>l=e]],["reflectGet",[e=>p=e]],["reflectGetOwnPropertyDescriptor",[e=>m=e]],["reflectHas",[e=>u=e]],["reflectIsExtensible",[e=>y=e]],["reflectPreventExtensions",[e=>f=e]],["weakmapSet",[e=>g=e]]]],["./error/assert.js",[["assert",[e=>d=e]]]]]);const{quote:w}=d,h=()=>{let e=!1;const t=n(null);return s({activate(){e=!0},proxiedExports:t,exportsProxy:new r(t,{get(r,n,s){if(!e)throw new o(`Cannot get property ${w(n)} of module exports namespace, the module has not yet begun to execute`);return p(t,n,s)},set(e,t,r){throw new o(`Cannot set property ${w(t)} of module exports namespace`)},has(r,n){if(!e)throw new o(`Cannot check property ${w(n)}, the module has not yet begun to execute`);return u(t,n)},deleteProperty(e,t){throw new o(`Cannot delete property ${w(t)}s of module exports namespace`)},ownKeys(r){if(!e)throw new o("Cannot enumerate keys, the module has not yet begun to execute");return l(t)},getOwnPropertyDescriptor(r,n){if(!e)throw new o(`Cannot get own property descriptor ${w(n)}, the module has not yet begun to execute`);return m(t,n)},preventExtensions(r){if(!e)throw new o("Cannot prevent extensions of module exports namespace, the module has not yet begun to execute");return f(t)},isExtensible(){if(!e)throw new o("Cannot check extensibility of module exports namespace, the module has not yet begun to execute");return y(t)},getPrototypeOf:e=>null,setPrototypeOf(e,t){throw new o("Cannot set prototype of module exports namespace")},defineProperty(e,t,r){throw new o(`Cannot define property ${w(t)} of module exports namespace`)},apply(e,t,r){throw new o("Cannot call module exports namespace, it is not a function")},construct(e,t){throw new o("Cannot construct module exports namespace, it is not a constructor")}})})};P.deferExports(h);P.getDeferredExports(((e,r,o,n)=>{const{deferredExports:s}=r;if(!i(s,n)){const r=h();g(o,r.exportsProxy,t(e,n)),c(s,n,r)}return a(s,n)}))},e=>{let t,r,o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,b,P,w,{imports:h,liveVar:v,onceVar:S}=e;h([["./error/assert.js",[["assert",[e=>t=e]]]],["./module-proxy.js",[["getDeferredExports",[e=>r=e]]]],["./commons.js",[["ReferenceError",[e=>o=e]],["SyntaxError",[e=>n=e]],["TypeError",[e=>s=e]],["arrayForEach",[e=>a=e]],["arrayIncludes",[e=>i=e]],["arrayPush",[e=>c=e]],["arraySome",[e=>l=e]],["arraySort",[e=>p=e]],["create",[e=>m=e]],["defineProperty",[e=>u=e]],["entries",[e=>y=e]],["freeze",[e=>f=e]],["isArray",[e=>g=e]],["keys",[e=>d=e]],["mapGet",[e=>E=e]],["weakmapGet",[e=>b=e]],["reflectHas",[e=>P=e]]]],["./compartment-evaluate.js",[["compartmentEvaluate",[e=>w=e]]]]]);const{quote:k}=t;S.makeThirdPartyModuleInstance(((e,t,o,n,i,p)=>{const{exportsProxy:y,proxiedExports:d,activate:E}=r(o,b(e,o),n,i),w=m(null);if(t.exports){if(!g(t.exports)||l(t.exports,(e=>"string"!==typeof e)))throw new s(`SES third-party static module record "exports" property must be an array of strings for module ${i}`);a(t.exports,(e=>{let t=d[e];const r=[];u(d,e,{get:()=>t,set:e=>{t=e;for(const t of r)t(e)},enumerable:!0,configurable:!1}),w[e]=e=>{c(r,e),e(t)}})),w["*"]=e=>{e(d)}}const h={activated:!1};return f({notifiers:w,exportsProxy:y,execute(){if(P(h,"errorFromExecute"))throw h.errorFromExecute;if(!h.activated){E(),h.activated=!0;try{t.execute(d,o,p)}catch(e){throw h.errorFromExecute=e,e}}}})}));S.makeModuleInstance(((e,t,l,g)=>{const{compartment:P,moduleSpecifier:h,staticModuleRecord:v}=l,{reexports:S=[],__syncModuleProgram__:j,__fixedExportMap__:A={},__liveExportMap__:T={}}=v,x=b(e,P),{__shimTransforms__:I}=x,{exportsProxy:O,proxiedExports:C,activate:_}=r(P,x,t,h),F=m(null),N=m(null),R=m(null),V=m(null),M=m(null),$=m(null);a(y(A),(e=>{let[t,[r]]=e,n=M[r];if(!n){let e,t=!0,a=[];const i=()=>{if(t)throw new o(`binding ${k(r)} not yet initialized`);return e},l=f((o=>{if(!t)throw new s(`Internal: binding ${k(r)} already initialized`);e=o;const n=a;a=null,t=!1;for(const e of n)e(o);return o}));n={get:i,notify:r=>{r!==l&&(t?c(a,r):r(e))}},M[r]=n,R[r]=l}F[t]={get:n.get,set:void 0,enumerable:!0,configurable:!1},$[t]=n.notify})),a(y(T),(e=>{let[t,[r,n]]=e,s=M[r];if(!s){let e,a=!0;const i=[],l=()=>{if(a)throw new o(`binding ${k(t)} not yet initialized`);return e},p=f((t=>{e=t,a=!1;for(const e of i)e(t)})),m=t=>{if(a)throw new o(`binding ${k(r)} not yet initialized`);e=t;for(const e of i)e(t)};s={get:l,notify:t=>{t!==p&&(c(i,t),a||t(e))}},M[r]=s,n&&u(N,r,{get:l,set:m,enumerable:!0,configurable:!1}),V[r]=p}F[t]={get:s.get,set:void 0,enumerable:!0,configurable:!1},$[t]=s.notify}));function L(e){const t=m(null);t.default=!1;for(const[r,o]of e){const e=E(g,r);e.execute();const{notifiers:s}=e;for(const[t,a]of o){const e=s[t];if(!e)throw n(`The requested module '${r}' does not provide an export named '${t}'`);for(const t of a)e(t)}if(i(S,r))for(const[r,o]of y(s))void 0===t[r]?t[r]=o:t[r]=!1}for(const[r,o]of y(t))if(!$[r]&&!1!==o){let e;$[r]=o;o((t=>e=t)),F[r]={get:()=>e,set:void 0,enumerable:!0,configurable:!1}}a(p(d(F)),(e=>u(C,e,F[e]))),f(C),_()}$["*"]=e=>{e(C)};let G,D=w(x,j,{globalObject:P.globalThis,transforms:I,__moduleShimLexicals__:N}),U=!1;return f({notifiers:$,exportsProxy:O,execute:function(){if(D){const t=D;D=null;try{t(f({imports:f(L),onceVar:f(R),liveVar:f(V)}))}catch(e){U=!0,G=e}}if(U)throw G}})}))},e=>{let t,r,o,n,s,a,i,c,l,p,m,u,y,{imports:f,liveVar:g,onceVar:d}=e;f([["./error/assert.js",[["assert",[e=>t=e]]]],["./module-instance.js",[["makeModuleInstance",[e=>r=e]],["makeThirdPartyModuleInstance",[e=>o=e]]]],["./commons.js",[["Map",[e=>n=e]],["ReferenceError",[e=>s=e]],["TypeError",[e=>a=e]],["entries",[e=>i=e]],["isArray",[e=>c=e]],["isObject",[e=>l=e]],["mapGet",[e=>p=e]],["mapHas",[e=>m=e]],["mapSet",[e=>u=e]],["weakmapGet",[e=>y=e]]]]]);const{quote:E}=t,b=(e,t,r,o)=>{const{name:n,moduleRecords:a}=y(e,r),i=p(a,o);if(void 0===i)throw new s(`Missing link to module ${E(o)} from compartment ${E(n)}`);return P(e,t,i)};d.link(b);const P=(e,s,f)=>{const{compartment:g,moduleSpecifier:d,resolvedImports:P,staticModuleRecord:w}=f,{instances:h}=y(e,g);if(m(h,d))return p(h,d);!function(e,r){t(l(e),`Static module records must be of type object, got ${E(e)}, for module ${E(r)}`);const{imports:o,exports:n,reexports:s=[]}=e;t(c(o),`Property 'imports' of a static module record must be an array, got ${E(o)}, for module ${E(r)}`),t(c(n),`Property 'exports' of a precompiled module record must be an array, got ${E(n)}, for module ${E(r)}`),t(c(s),`Property 'reexports' of a precompiled module record must be an array if present, got ${E(s)}, for module ${E(r)}`)}(w,d);const v=new n;let S;if(function(e){return"string"===typeof e.__syncModuleProgram__}(w))!function(e,r){const{__fixedExportMap__:o,__liveExportMap__:n}=e;t(l(o),`Property '__fixedExportMap__' of a precompiled module record must be an object, got ${E(o)}, for module ${E(r)}`),t(l(n),`Property '__liveExportMap__' of a precompiled module record must be an object, got ${E(n)}, for module ${E(r)}`)}(w,d),S=r(e,s,f,v);else{if(!function(e){return"function"===typeof e.execute}(w))throw new a(`importHook must return a static module record, got ${E(w)}`);!function(e,r){const{exports:o}=e;t(c(o),`Property 'exports' of a third-party static module record must be an array, got ${E(o)}, for module ${E(r)}`)}(w,d),S=o(e,w,g,s,d,P)}u(h,d,S);for(const[t,r]of i(P)){const o=b(e,s,g,r);u(v,t,o)}return S};d.instantiate(P)},e=>{let t,r,o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,b,P,w,h,v,S,k,j,A,T,{imports:x,liveVar:I,onceVar:O}=e;x([["./commons.js",[["Map",[e=>t=e]],["ReferenceError",[e=>r=e]],["TypeError",[e=>o=e]],["WeakMap",[e=>n=e]],["WeakSet",[e=>s=e]],["arrayFilter",[e=>a=e]],["arrayJoin",[e=>i=e]],["assign",[e=>c=e]],["defineProperties",[e=>l=e]],["entries",[e=>p=e]],["freeze",[e=>m=e]],["getOwnPropertyNames",[e=>u=e]],["promiseThen",[e=>y=e]],["weakmapGet",[e=>f=e]],["weakmapSet",[e=>g=e]],["weaksetHas",[e=>d=e]]]],["./global-object.js",[["setGlobalObjectConstantProperties",[e=>E=e]],["setGlobalObjectMutableProperties",[e=>b=e]],["setGlobalObjectEvaluators",[e=>P=e]]]],["./scope-constants.js",[["isValidIdentifierName",[e=>w=e]]]],["./whitelist.js",[["sharedGlobalPropertyNames",[e=>h=e]]]],["./module-load.js",[["load",[e=>v=e]]]],["./module-link.js",[["link",[e=>S=e]]]],["./module-proxy.js",[["getDeferredExports",[e=>k=e]]]],["./error/assert.js",[["assert",[e=>j=e]]]],["./compartment-evaluate.js",[["compartmentEvaluate",[e=>A=e]]]],["./make-safe-evaluator.js",[["makeSafeEvaluator",[e=>T=e]]]]]);const{quote:C}=j,_=new n,F=new n,N=e=>{const{importHook:t,resolveHook:r}=f(F,e);if("function"!==typeof t||"function"!==typeof r)throw new o("Compartment must be constructed with an importHook and a resolveHook for it to be able to load modules")},R=function(){throw new o("Compartment.prototype.constructor is not a valid constructor.")};O.InertCompartment(R);const V=(e,t)=>{const{execute:r,exportsProxy:o}=S(F,_,e,t);return r(),o},M={constructor:R,get globalThis(){return f(F,this).globalObject},get name(){return f(F,this).name},evaluate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=f(F,this);return A(r,e,t)},toString:()=>"[object Compartment]",__isKnownScopeProxy__(e){const{knownScopeProxies:t}=f(F,this);return d(t,e)},module(e){if("string"!==typeof e)throw new o("first argument of module() must be a string");N(this);const{exportsProxy:t}=k(this,f(F,this),_,e);return t},async import(e){if("string"!==typeof e)throw new o("first argument of import() must be a string");return N(this),y(v(F,_,this,e),(()=>({namespace:V(this,e)})))},async load(e){if("string"!==typeof e)throw new o("first argument of load() must be a string");return N(this),v(F,_,this,e)},importNow(e){if("string"!==typeof e)throw new o("first argument of importNow() must be a string");return N(this),V(this,e)}};O.CompartmentPrototype(M),l(R,{prototype:{value:M}});O.makeCompartmentConstructor(((e,n,l)=>{function y(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===new.target)throw new o("Class constructor Compartment cannot be invoked without 'new'");const{name:S="<unknown>",transforms:k=[],__shimTransforms__:j=[],globalLexicals:A={},resolveHook:x,importHook:I,moduleMapHook:O}=v,N=[...k,...j],R=new t,V=new t,M=new t;for(const[e,t]of p(d||{})){if("string"===typeof t)throw new o(`Cannot map module ${C(e)} to ${C(t)} in parent compartment`);if(void 0===f(_,t))throw r(`Cannot map module ${C(e)} because it has no known compartment in this realm`)}const $=a(u(A),(e=>!w(e)));if($.length)throw new o(`Cannot create compartment with invalid names for global lexicals: ${i($,", ")}; these names would not be lexically mentionable`);const L=m({...A}),G={};E(G);const D=new s,{safeEvaluate:U}=T({globalObject:G,globalLexicals:L,globalTransforms:N,sloppyGlobalsMode:!1,knownScopeProxies:D});b(G,{intrinsics:n,newGlobalPropertyNames:h,makeCompartmentConstructor:e,markVirtualizedNativeFunction:l}),P(G,U,l),c(G,y),g(F,this,{name:S,globalTransforms:N,globalObject:G,knownScopeProxies:D,globalLexicals:L,safeEvaluate:U,resolveHook:x,importHook:I,moduleMap:d,moduleMapHook:O,moduleRecords:R,__shimTransforms__:j,deferredExports:M,instances:V})}return y.prototype=M,y}))},e=>{let t,r,o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,b,{imports:P,liveVar:w,onceVar:h}=e;P([["./commons.js",[["TypeError",[e=>t=e]],["WeakSet",[e=>r=e]],["arrayFilter",[e=>o=e]],["defineProperty",[e=>n=e]],["entries",[e=>s=e]],["freeze",[e=>a=e]],["getOwnPropertyDescriptor",[e=>i=e]],["getOwnPropertyDescriptors",[e=>c=e]],["globalThis",[e=>l=e]],["is",[e=>p=e]],["isObject",[e=>m=e]],["objectHasOwnProperty",[e=>u=e]],["values",[e=>y=e]],["weaksetHas",[e=>f=e]]]],["./whitelist.js",[["constantProperties",[e=>g=e]],["sharedGlobalPropertyNames",[e=>d=e]],["universalPropertyNames",[e=>E=e]],["whitelist",[e=>b=e]]]]]);const v=e=>"function"===typeof e;function S(e,r,o){if(u(e,r)){const n=i(e,r);if(!p(n.value,o.value)||n.get!==o.get||n.set!==o.set||n.writable!==o.writable||n.enumerable!==o.enumerable||n.configurable!==o.configurable)throw new t(`Conflicting definitions of ${r}`)}n(e,r,o)}function k(e,t){const r={__proto__:null};for(const[o,n]of s(t))u(e,o)&&(r[n]=e[o]);return r}const j=()=>{const e={__proto__:null};let n;const i=t=>{!function(e,t){for(const[r,o]of s(t))S(e,r,o)}(e,c(t))};a(i);const p=()=>{for(const[r,o]of s(e)){if(!m(o))continue;if(!u(o,"prototype"))continue;const n=b[r];if("object"!==typeof n)throw new t(`Expected permit object at whitelist.${r}`);const s=n.prototype;if(!s)throw new t(`${r}.prototype property not whitelisted`);if("string"!==typeof s||!u(b,s))throw new t(`Unrecognized ${r}.prototype whitelist entry`);const a=o.prototype;if(u(e,s)){if(e[s]!==a)throw new t(`Conflicting bindings of ${s}`)}else e[s]=a}};a(p);const d=()=>(a(e),n=new r(o(y(e),v)),e);a(d);const P=e=>{if(!n)throw new t("isPseudoNative can only be called after finalIntrinsics");return f(n,e)};a(P);const w={addIntrinsics:i,completePrototypes:p,finalIntrinsics:d,isPseudoNative:P};return a(w),i(g),i(k(l,E)),w};h.makeIntrinsicsCollector(j);h.getGlobalIntrinsics((e=>{const{addIntrinsics:t,finalIntrinsics:r}=j();return t(k(e,d)),r()}))},e=>{let{imports:t,liveVar:r,onceVar:o}=e;t([]);o.minEnablements({"%ObjectPrototype%":{toString:!0},"%FunctionPrototype%":{toString:!0},"%ErrorPrototype%":{name:!0}});const n={"%ObjectPrototype%":{toString:!0,valueOf:!0},"%ArrayPrototype%":{toString:!0,push:!0},"%FunctionPrototype%":{constructor:!0,bind:!0,toString:!0},"%ErrorPrototype%":{constructor:!0,message:!0,name:!0,toString:!0},"%TypeErrorPrototype%":{constructor:!0,message:!0,name:!0},"%SyntaxErrorPrototype%":{message:!0,name:!0},"%RangeErrorPrototype%":{message:!0,name:!0},"%URIErrorPrototype%":{message:!0,name:!0},"%EvalErrorPrototype%":{message:!0,name:!0},"%ReferenceErrorPrototype%":{message:!0,name:!0},"%PromisePrototype%":{constructor:!0},"%TypedArrayPrototype%":"*","%Generator%":{constructor:!0,name:!0,toString:!0},"%IteratorPrototype%":{toString:!0}};o.moderateEnablements(n);const s={...n,"%ObjectPrototype%":"*","%TypedArrayPrototype%":"*"};o.severeEnablements(s)},e=>{let t,r,o,n,s,a,i,c,l,p,m,u,y,f,g,{imports:d,liveVar:E,onceVar:b}=e;d([["./commons.js",[["Set",[e=>t=e]],["String",[e=>r=e]],["TypeError",[e=>o=e]],["arrayForEach",[e=>n=e]],["defineProperty",[e=>s=e]],["getOwnPropertyDescriptor",[e=>a=e]],["getOwnPropertyDescriptors",[e=>i=e]],["getOwnPropertyNames",[e=>c=e]],["isObject",[e=>l=e]],["objectHasOwnProperty",[e=>p=e]],["ownKeys",[e=>m=e]],["setHas",[e=>u=e]]]],["./enablements.js",[["minEnablements",[e=>y=e]],["moderateEnablements",[e=>f=e]],["severeEnablements",[e=>g=e]]]]]),b.default((function(e,d){let E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const b=new t(E);function P(e,t,n,a){if("value"in a&&a.configurable){const{value:i}=a;function c(){return i}s(c,"originalValue",{value:i,writable:!1,enumerable:!1,configurable:!1});const l=u(b,n);function m(a){if(t===this)throw new o(`Cannot assign to read only property '${r(n)}' of '${e}'`);p(this,n)?this[n]=a:(l&&console.error(new o(`Override property ${n}`)),s(this,n,{value:a,writable:!0,enumerable:!0,configurable:!0}))}s(t,n,{get:c,set:m,enumerable:a.enumerable,configurable:a.configurable})}}function w(e,t,r){const o=a(t,r);o&&P(e,t,r,o)}function h(e,t){const r=i(t);r&&n(m(r),(o=>P(e,t,o,r[o])))}function v(e,t,n){for(const s of c(n)){const i=a(t,s);if(!i||i.get||i.set)continue;const c=`${e}.${r(s)}`,p=n[s];if(!0===p)w(c,t,s);else if("*"===p)h(c,i.value);else{if(!l(p))throw new o(`Unexpected override enablement plan ${c}`);v(c,i.value,p)}}}let S;switch(d){case"min":S=y;break;case"moderate":S=f;break;case"severe":S=g;break;default:throw new o(`unrecognized overrideTaming ${d}`)}v("root",e,S)}))},e=>{let t,r,o,n,{imports:s,liveVar:a,onceVar:i}=e;s([["./commons.js",[["arrayPush",[e=>t=e]],["arraySlice",[e=>r=e]],["freeze",[e=>o=e]]]],["./error/assert.js",[["assert",[e=>n=e]]]]]);const{details:c,quote:l}=n,p=e=>{const s=[],a=(r,o)=>{n.typeof(r,"string",c`Environment option name ${l(r)} must be a string.`),n.typeof(o,"string",c`Environment option default setting ${l(o)} must be a string.`);let a=o;const i=e.process;if(i&&"object"===typeof i){const e=i.env;if(e&&"object"===typeof e&&r in e){t(s,r);const o=e[r];n.typeof(o,"string",c`Environment option named ${l(r)}, if present, must have a corresponding string value, got ${l(o)}`),a=o}}return n(void 0===a||"string"===typeof a,c`Environment option value ${l(a)}, if present, must be a string.`),a};o(a);const i=()=>o(r(s));return o(i),{getEnvironmentOption:a,getCapturedEnvironmentOptionNames:i}};i.makeEnvironmentCaptor(p),o(p)},e=>{let t,r,o,n,s,a,i,c,l,p,m,{imports:u,liveVar:y,onceVar:f}=e;u([["../commons.js",[["WeakSet",[e=>t=e]],["arrayFilter",[e=>r=e]],["arrayMap",[e=>o=e]],["arrayPush",[e=>n=e]],["defineProperty",[e=>s=e]],["freeze",[e=>a=e]],["fromEntries",[e=>i=e]],["isError",[e=>c=e]],["stringEndsWith",[e=>l=e]],["weaksetAdd",[e=>p=e]],["weaksetHas",[e=>m=e]]]],["./types.js",[]],["./internal-types.js",[]]]);const g=a([["debug","debug"],["log","log"],["info","info"],["warn","warn"],["error","error"],["trace","log"],["dirxml","log"],["group","log"],["groupCollapsed","log"]]),d=a([["assert","error"],["timeLog","log"],["clear",void 0],["count","info"],["countReset",void 0],["dir","log"],["groupEnd","log"],["table","log"],["time","info"],["timeEnd","info"],["profile",void 0],["profileEnd",void 0],["timeStamp",void 0]]),E=a([...g,...d]);f.consoleWhitelist(E);const b=function(e){let{shouldResetForDebugging:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&e.resetErrorTagNum();let r=[];const c=i(o(E,(e=>{let[t,o]=e;const i=function(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];n(r,[t,...o])};return s(i,"name",{value:t}),[t,a(i)]})));a(c);const l=()=>{const e=a(r);return r=[],e};a(l);const p=c;return a({loggingConsole:p,takeLog:l})};f.makeLoggingConsoleKit(b),a(b);const P={NOTE:"ERROR_NOTE:",MESSAGE:"ERROR_MESSAGE:"};a(P);const w="debug";f.BASE_CONSOLE_LEVEL(w);const h=(e,u)=>{const{getStackString:y,tagError:f,takeMessageLogArgs:E,takeNoteLogArgsArray:b}=u,w=(e,t)=>o(e,(e=>c(e)?(n(t,e),`(${f(e)})`):e)),h=(t,r,o,n)=>{const s=f(t),a=r===P.MESSAGE?`${s}:`:`${s} ${r}`,i=w(o,n);e.debug(a,...i)},v=function(t){let r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(0!==t.length)if(1!==t.length||void 0!==o){r=1===t.length?"Nested error":`Nested ${t.length} errors`,void 0!==o&&(r=`${r} under ${o}`),e.group(r);try{for(const e of t)j(e)}finally{e.groupEnd()}}else j(t[0])},S=new t,k=(e,t)=>{const r=[];h(e,P.NOTE,t,r),v(r,f(e))},j=t=>{if(m(S,t))return;const r=f(t);p(S,t);const o=[],n=E(t),s=b(t,k);void 0===n?e.debug(`${r}:`,t.message):h(t,P.MESSAGE,n,o);let a=y(t);"string"===typeof a&&a.length>=1&&!l(a,"\n")&&(a+="\n"),e.debug(a);for(const e of s)h(t,P.NOTE,e,o);v(o,r)},A=o(g,(t=>{let[r,o]=t;const n=function(){const t=[];for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];const a=w(n,t);e[r](...a),v(t)};return s(n,"name",{value:r}),[r,a(n)]})),T=r(d,(t=>{let[r,o]=t;return r in e})),x=o(T,(t=>{let[r,o]=t;const n=function(){e[r](...arguments)};return s(n,"name",{value:r}),[r,a(n)]})),I=i([...A,...x]);return a(I)};f.makeCausalConsole(h),a(h);const v=function(e,t){const n=r(E,(t=>{let[r,o]=t;return r in e})),s=o(n,(r=>{let[o,n]=r;return[o,a((function(){(void 0===n||t.canLog(n))&&e[o](...arguments)}))]})),c=i(s);return a(c)};f.filterConsole(v),a(v)},e=>{let t,r,o,n,{imports:s,liveVar:a,onceVar:i}=e;s([["../commons.js",[["TypeError",[e=>t=e]],["globalThis",[e=>r=e]]]],["./assert.js",[["loggedErrorHandler",[e=>o=e]]]],["./console.js",[["makeCausalConsole",[e=>n=e]]]],["./types.js",[]],["./internal-types.js",[]]]);const c=console;i.tameConsole((function(){let e,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"safe",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"platform",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if("safe"!==s&&"unsafe"!==s)throw new t(`unrecognized consoleTaming ${s}`);if("unsafe"===s)return{console:c};e=void 0===i?o:{...o,getStackString:i};const l=n(c,e);return"none"!==a&&void 0!==r.process&&r.process.on("uncaughtException",(e=>{l.error(e),"platform"===a||"exit"===a?r.process.exit(r.process.exitCode||-1):"abort"===a&&r.process.abort()})),"none"!==a&&void 0!==r.window&&void 0!==r.window.addEventListener&&r.window.addEventListener("error",(e=>{e.preventDefault(),l.error(e.error),"exit"!==a&&"abort"!==a||(r.window.location.href="about:blank")})),{console:l}}))},e=>{let t,r,o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,b,{imports:P,liveVar:w,onceVar:h}=e;P([["../commons.js",[["WeakMap",[e=>t=e]],["WeakSet",[e=>r=e]],["apply",[e=>o=e]],["arrayFilter",[e=>n=e]],["arrayJoin",[e=>s=e]],["arrayMap",[e=>a=e]],["arraySlice",[e=>i=e]],["create",[e=>c=e]],["defineProperties",[e=>l=e]],["fromEntries",[e=>p=e]],["reflectSet",[e=>m=e]],["regexpExec",[e=>u=e]],["regexpTest",[e=>y=e]],["weakmapGet",[e=>f=e]],["weakmapHas",[e=>g=e]],["weakmapSet",[e=>d=e]],["weaksetAdd",[e=>E=e]],["weaksetHas",[e=>b=e]]]]]);const v=["getTypeName","getFunctionName","getMethodName","getFileName","getLineNumber","getColumnNumber","getEvalOrigin","isToplevel","isEval","isNative","isConstructor","isAsync","getPosition","getScriptNameOrSourceURL","toString"],S=e=>{const t=p(a(v,(t=>{const r=e[t];return[t,()=>o(r,e,[])]})));return c(t,{})},k=[/\/node_modules\//,/^(?:node:)?internal\//,/\/packages\/ses\/src\/error\/assert.js$/,/\/packages\/eventual-send\/src\//],j=e=>{if(!e)return!0;for(const t of k)if(y(t,e))return!1;return!0};h.filterFileName(j);const A=[/^((?:.*[( ])?)[:/\w_-]*\/\.\.\.\/(.+)$/,/^((?:.*[( ])?)[:/\w_-]*\/(packages\/.+)$/],T=e=>{for(const t of A){const r=u(t,e);if(r)return s(i(r,1),"")}return e};h.shortenCallSiteString(T);h.tameV8ErrorConstructor(((e,i,c,p)=>{const u=e.captureStackTrace,y=e=>"verbose"===p||j(e.getFileName()),P=e=>{let t=`${e}`;return"concise"===p&&(t=T(t)),`\n  at ${t}`},w=(e,t)=>s(a(n(t,y),P),""),h=new t,v={captureStackTrace(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.captureStackTrace;"function"!==typeof u?m(t,"stack",""):o(u,e,[t,r])},getStackString(e){g(h,e)||e.stack;const t=f(h,e);return t?w(0,t):""},prepareStackTrace(e,t){if(d(h,e,t),"unsafe"===c){return`${e}${w(0,t)}`}return""}},k=v.prepareStackTrace;e.prepareStackTrace=k;const A=new r([k]),x=e=>{if(b(A,e))return e;const t={prepareStackTrace:(t,r)=>(d(h,t,r),e(t,(e=>a(e,S))(r)))};return E(A,t.prepareStackTrace),t.prepareStackTrace};return l(i,{captureStackTrace:{value:v.captureStackTrace,writable:!0,enumerable:!1,configurable:!0},prepareStackTrace:{get:()=>e.prepareStackTrace,set(t){if("function"===typeof t){const r=x(t);e.prepareStackTrace=r}else e.prepareStackTrace=k},enumerable:!1,configurable:!0}}),v.getStackString}))},e=>{let t,r,o,n,s,a,i,c,l,{imports:p,liveVar:m,onceVar:u}=e;p([["../commons.js",[["FERAL_ERROR",[e=>t=e]],["TypeError",[e=>r=e]],["apply",[e=>o=e]],["construct",[e=>n=e]],["defineProperties",[e=>s=e]],["setPrototypeOf",[e=>a=e]],["getOwnPropertyDescriptor",[e=>i=e]]]],["../whitelist.js",[["NativeErrors",[e=>c=e]]]],["./tame-v8-error-constructor.js",[["tameV8ErrorConstructor",[e=>l=e]]]]]);const y=i(t.prototype,"stack"),f=y&&y.get,g={getStackString:e=>"function"===typeof f?o(f,e,[]):"stack"in e?`${e.stack}`:""};u.default((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"safe",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"concise";if("safe"!==e&&"unsafe"!==e)throw new r(`unrecognized errorTaming ${e}`);if("concise"!==i&&"verbose"!==i)throw new r(`unrecognized stackFiltering ${i}`);const p=t.prototype,m="function"===typeof t.captureStackTrace?"v8":"unknown",{captureStackTrace:u}=t,y=function(){const e=function(){let r;for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=void 0===new.target?o(t,this,a):n(t,a,new.target),"v8"===m&&o(u,t,[r,e]),r};return s(e,{length:{value:1},prototype:{value:p,writable:!1,enumerable:!1,configurable:!1}}),e},f=y({powers:"original"}),d=y({powers:"none"});s(p,{constructor:{value:d}});for(const t of c)a(t,d);s(f,{stackTraceLimit:{get(){if("number"===typeof t.stackTraceLimit)return t.stackTraceLimit},set(e){"number"===typeof e&&("number"!==typeof t.stackTraceLimit||(t.stackTraceLimit=e))},enumerable:!1,configurable:!0}}),s(d,{stackTraceLimit:{get(){},set(e){},enumerable:!1,configurable:!0}});let E=g.getStackString;return"v8"===m&&(E=l(t,f,e,i)),{"%InitialGetStackString%":E,"%InitialError%":f,"%SharedError%":d}}))},e=>{let t,r,o,n,s,a,i,c,l,p,m,u,y,f,g,{imports:d,liveVar:E,onceVar:b}=e;function P(e){return i(e).constructor}d([["./commons.js",[["FERAL_FUNCTION",[e=>t=e]],["Float32Array",[e=>r=e]],["Map",[e=>o=e]],["Set",[e=>n=e]],["String",[e=>s=e]],["getOwnPropertyDescriptor",[e=>a=e]],["getPrototypeOf",[e=>i=e]],["iterateArray",[e=>c=e]],["iterateMap",[e=>l=e]],["iterateSet",[e=>p=e]],["iterateString",[e=>m=e]],["matchAllRegExp",[e=>u=e]],["matchAllSymbol",[e=>y=e]],["regexpPrototype",[e=>f=e]]]],["./compartment-shim.js",[["InertCompartment",[e=>g=e]]]]]);b.getAnonymousIntrinsics((()=>{const e=t.prototype.constructor,d=a(function(){return arguments}(),"callee").get,E=m(new s),b=i(E),w=f[y]&&u(/./),h=w&&i(w),v=c([]),S=i(v),k=i(r),j=l(new o),A=i(j),T=p(new n),x=i(T),I=i(S);const O=P((function*(){})),C=O.prototype;const _=P((async function*(){})),F=_.prototype,N=F.prototype,R=i(N);return{"%InertFunction%":e,"%ArrayIteratorPrototype%":S,"%InertAsyncFunction%":P((async function(){})),"%AsyncGenerator%":F,"%InertAsyncGeneratorFunction%":_,"%AsyncGeneratorPrototype%":N,"%AsyncIteratorPrototype%":R,"%Generator%":C,"%InertGeneratorFunction%":O,"%IteratorPrototype%":I,"%MapIteratorPrototype%":A,"%RegExpStringIteratorPrototype%":h,"%SetIteratorPrototype%":x,"%StringIteratorPrototype%":b,"%ThrowTypeError%":d,"%TypedArray%":k,"%InertCompartment%":g}}))},e=>{let t,r,o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,b,P,w,h,v,S,k,j,A,T,{imports:x,liveVar:I,onceVar:O}=e;x([["./commons.js",[["Set",[e=>t=e]],["String",[e=>r=e]],["TypeError",[e=>o=e]],["WeakMap",[e=>n=e]],["WeakSet",[e=>s=e]],["apply",[e=>a=e]],["arrayForEach",[e=>i=e]],["defineProperty",[e=>c=e]],["freeze",[e=>l=e]],["getOwnPropertyDescriptor",[e=>p=e]],["getOwnPropertyDescriptors",[e=>m=e]],["getPrototypeOf",[e=>u=e]],["isInteger",[e=>y=e]],["isObject",[e=>f=e]],["objectHasOwnProperty",[e=>g=e]],["ownKeys",[e=>d=e]],["preventExtensions",[e=>E=e]],["setAdd",[e=>b=e]],["setForEach",[e=>P=e]],["setHas",[e=>w=e]],["toStringTagSymbol",[e=>h=e]],["typedArrayPrototype",[e=>v=e]],["weakmapGet",[e=>S=e]],["weakmapSet",[e=>k=e]],["weaksetAdd",[e=>j=e]],["weaksetHas",[e=>A=e]]]],["./error/assert.js",[["assert",[e=>T=e]]]]]);const C=p(v,h);T(C);const _=C.get;T(_);const F=e=>void 0!==a(_,e,[]);O.isTypedArray(F);O.makeHardener((()=>{const e=new s,{harden:a}={harden(s){const a=new t,p=new n;function h(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(!f(t))return;const n=typeof t;if("object"!==n&&"function"!==n)throw new o(`Unexpected typeof: ${n}`);A(e,t)||w(a,t)||(b(a,t),k(p,t,r))}function v(e){F(e)?(e=>{const t=m(e);E(e),i(d(t),(o=>{const n=t[o],s=+r(o);y(s)||c(e,o,{...n,writable:!1,configurable:!1})}))})(e):l(e);const t=S(p,e)||"unknown",o=m(e);h(u(e),`${t}.__proto__`),i(d(o),(e=>{const n=`${t}.${r(e)}`,s=o[e];g(s,"value")?h(s.value,`${n}`):(h(s.get,`${n}(get)`),h(s.set,`${n}(set)`))}))}function T(t){j(e,t)}return h(s),P(a,v),P(a,T),s}};return a}))},e=>{let t,r,o,n,s,{imports:a,liveVar:i,onceVar:c}=e;a([["./commons.js",[["Date",[e=>t=e]],["TypeError",[e=>r=e]],["apply",[e=>o=e]],["construct",[e=>n=e]],["defineProperties",[e=>s=e]]]]]),c.default((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"safe";if("safe"!==e&&"unsafe"!==e)throw new r(`unrecognized dateTaming ${e}`);const a=t,i=a.prototype,c={now:()=>NaN},l=function(){let e,{powers:r="none"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e="original"===r?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return void 0===new.target?o(a,void 0,t):n(a,t,new.target)}:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return void 0===new.target?"Invalid Date":(0===t.length&&(t=[NaN]),n(a,t,new.target))},s(e,{length:{value:7},prototype:{value:i,writable:!1,enumerable:!1,configurable:!1},parse:{value:t.parse,writable:!0,enumerable:!1,configurable:!0},UTC:{value:t.UTC,writable:!0,enumerable:!1,configurable:!0}}),e},p=l({powers:"original"}),m=l({powers:"none"});return s(p,{now:{value:t.now,writable:!0,enumerable:!1,configurable:!0}}),s(m,{now:{value:c.now,writable:!0,enumerable:!1,configurable:!0}}),s(i,{constructor:{value:m}}),{"%InitialDate%":p,"%SharedDate%":m}}))},e=>{let t,r,o,n,{imports:s,liveVar:a,onceVar:i}=e;function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"safe";if("safe"!==e&&"unsafe"!==e)throw new t(`unrecognized domainTaming ${e}`);if("unsafe"!==e&&"object"===typeof r.process&&null!==r.process){const e=o(r.process,"domain");if(void 0!==e&&void 0!==e.get)throw new t("SES failed to lockdown, Node.js domains have been initialized (SES_NO_DOMAINS)");n(r.process,"domain",{value:null,configurable:!1,writable:!1,enumerable:!1})}}s([["./commons.js",[["TypeError",[e=>t=e]],["globalThis",[e=>r=e]],["getOwnPropertyDescriptor",[e=>o=e]],["defineProperty",[e=>n=e]]]]]),Object.defineProperty(c,"name",{value:"tameDomains"}),i.tameDomains(c)},e=>{let t,r,o,n,s,a,{imports:i,liveVar:c,onceVar:l}=e;i([["./commons.js",[["FERAL_FUNCTION",[e=>t=e]],["SyntaxError",[e=>r=e]],["TypeError",[e=>o=e]],["defineProperties",[e=>n=e]],["getPrototypeOf",[e=>s=e]],["setPrototypeOf",[e=>a=e]]]]]),l.default((function(){try{t.prototype.constructor("return 1")}catch(c){return{}}const e={};function i(i,c,l){let p;try{p=(0,eval)(l)}catch(y){if(y instanceof r)return;throw y}const m=s(p),u=function(){throw new o("Function.prototype.constructor is not a valid constructor.")};n(u,{prototype:{value:m},name:{value:i,writable:!1,enumerable:!1,configurable:!0}}),n(m,{constructor:{value:u}}),u!==t.prototype.constructor&&a(u,t.prototype.constructor),e[c]=u}return i("Function","%InertFunction%","(function(){})"),i("GeneratorFunction","%InertGeneratorFunction%","(function*(){})"),i("AsyncFunction","%InertAsyncFunction%","(async function(){})"),i("AsyncGeneratorFunction","%InertAsyncGeneratorFunction%","(async function*(){})"),e}))},e=>{let t,r,o,n,s,a,i,c,{imports:l,liveVar:p,onceVar:m}=e;l([["./commons.js",[["WeakSet",[e=>t=e]],["defineProperty",[e=>r=e]],["freeze",[e=>o=e]],["functionPrototype",[e=>n=e]],["functionToString",[e=>s=e]],["stringEndsWith",[e=>a=e]],["weaksetAdd",[e=>i=e]],["weaksetHas",[e=>c=e]]]]]);let u;m.tameFunctionToString((()=>{if(void 0===u){const e=new t;r(n,"toString",{value:{toString(){const t=s(this,[]);return a(t,") { [native code] }")||!c(e,this)?t:`function ${this.name}() { [native code] }`}}.toString}),u=o((t=>i(e,t)))}return u}))},e=>{let t,r,o,n,s,a,i,c,{imports:l,liveVar:p,onceVar:m}=e;l([["./commons.js",[["Number",[e=>t=e]],["String",[e=>r=e]],["TypeError",[e=>o=e]],["defineProperty",[e=>n=e]],["getOwnPropertyNames",[e=>s=e]],["isObject",[e=>a=e]],["regexpExec",[e=>i=e]]]],["./error/assert.js",[["assert",[e=>c=e]]]]]);const{details:u,quote:y}=c,f=/^(\w*[a-z])Locale([A-Z]\w*)$/,g={localeCompare(e){if(null===this||void 0===this)throw new o('Cannot localeCompare with null or undefined "this" value');const t=`${this}`;return t<(e=`${e}`)?-1:t>e?1:(c(t===e,u`expected ${y(t)} and ${y(e)} to compare`),0)},toString(){return`${this}`}},d=g.localeCompare,E=g.toString;m.default((function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"safe";if("safe"!==l&&"unsafe"!==l)throw new o(`unrecognized localeTaming ${l}`);if("unsafe"!==l){n(r.prototype,"localeCompare",{value:d});for(const t of s(e)){const r=e[t];if(a(r))for(const e of s(r)){const t=i(f,e);if(t){c("function"===typeof r[e],u`expected ${y(e)} to be a function`);const o=`${t[1]}${t[2]}`,s=r[o];c("function"===typeof s,u`function ${y(o)} not found`),n(r,e,{value:s})}}}n(t.prototype,"toLocaleString",{value:E})}}))},e=>{let t,r,o,n,s,{imports:a,liveVar:i,onceVar:c}=e;a([["./commons.js",[["Math",[e=>t=e]],["TypeError",[e=>r=e]],["create",[e=>o=e]],["getOwnPropertyDescriptors",[e=>n=e]],["objectPrototype",[e=>s=e]]]]]),c.default((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"safe";if("safe"!==e&&"unsafe"!==e)throw new r(`unrecognized mathTaming ${e}`);const a=t,i=a,{random:c,...l}=n(a),p=o(s,l);return{"%InitialMath%":i,"%SharedMath%":p}}))},e=>{let t,r,o,n,s,a,{imports:i,liveVar:c,onceVar:l}=e;i([["./commons.js",[["FERAL_REG_EXP",[e=>t=e]],["TypeError",[e=>r=e]],["construct",[e=>o=e]],["defineProperties",[e=>n=e]],["getOwnPropertyDescriptor",[e=>s=e]],["speciesSymbol",[e=>a=e]]]]]),l.default((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"safe";if("safe"!==e&&"unsafe"!==e)throw new r(`unrecognized regExpTaming ${e}`);const i=t.prototype,c=function(){const e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return void 0===new.target?t(...r):o(t,r,new.target)};return n(e,{length:{value:2},prototype:{value:i,writable:!1,enumerable:!1,configurable:!1},[a]:s(t,a)}),e},l=c(),p=c();return"unsafe"!==e&&delete i.compile,n(i,{constructor:{value:p}}),{"%InitialRegExp%":l,"%SharedRegExp%":p}}))},e=>{let t,r,o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,{imports:b,liveVar:P,onceVar:w}=e;b([["./whitelist.js",[["whitelist",[e=>t=e]],["FunctionInstance",[e=>r=e]],["isAccessorPermit",[e=>o=e]]]],["./commons.js",[["Map",[e=>n=e]],["String",[e=>s=e]],["TypeError",[e=>a=e]],["arrayFilter",[e=>i=e]],["arrayIncludes",[e=>c=e]],["arrayMap",[e=>l=e]],["entries",[e=>p=e]],["getOwnPropertyDescriptor",[e=>m=e]],["getPrototypeOf",[e=>u=e]],["isObject",[e=>y=e]],["mapGet",[e=>f=e]],["objectHasOwnProperty",[e=>g=e]],["ownKeys",[e=>d=e]],["symbolKeyFor",[e=>E=e]]]]]),w.default((function(e,b){const P=["undefined","boolean","number","string","symbol"],w=new n(e.Symbol?l(i(p(t.Symbol),(t=>{let[r,o]=t;return"symbol"===o&&"symbol"===typeof e.Symbol[r]})),(t=>{let[r]=t;return[e.Symbol[r],`@@${r}`]})):[]);function h(e,t){if("string"===typeof t)return t;const r=f(w,t);if("symbol"===typeof t){if(r)return r;{const e=E(t);return void 0!==e?`RegisteredSymbol(${e})`:`Unique${s(t)}`}}throw new a(`Unexpected property name type ${e} ${t}`)}function v(t,r,o,n){if("object"===typeof n)return j(t,r,n),!0;if(!1===n)return!1;if("string"===typeof n)if("prototype"===o||"constructor"===o){if(g(e,n)){if(r!==e[n])throw new a(`Does not match whitelist ${t}`);return!0}}else if(c(P,n)){if(typeof r!==n)throw new a(`At ${t} expected ${n} not ${typeof r}`);return!0}throw new a(`Unexpected whitelist permit ${n} at ${t}`)}function S(e,t,r,n){const s=m(t,r);if(g(s,"value")){if(o(n))throw new a(`Accessor expected at ${e}`);return v(e,s.value,r,n)}if(!o(n))throw new a(`Accessor not expected at ${e}`);return v(`${e}<get>`,s.get,r,n.get)&&v(`${e}<set>`,s.set,r,n.set)}function k(e,t,o){const n="__proto__"===o?"--proto--":o;return g(t,n)?t[n]:"function"===typeof e&&(b(e),g(r,n))?r[n]:void 0}function j(t,r,o){if(void 0===r)return;!function(t,r,o){if(!y(r))throw new a(`Object expected: ${t}, ${r}, ${o}`);const n=u(r);if(null!==n||null!==o){if(void 0!==o&&"string"!==typeof o)throw new a(`Malformed whitelist permit ${t}.__proto__`);if(n!==e[o||"%ObjectPrototype%"])throw new a(`Unexpected intrinsic ${t}.__proto__ at ${o}`)}}(t,r,o["[[Proto]]"]);for(const e of d(r)){const s=h(t,e),a=`${t}.${s}`,i=k(r,o,s);if(!i||!S(a,r,e,i)){!1!==i&&console.warn(`Removing ${a}`);try{delete r[e]}catch(n){throw e in r?console.error(`failed to delete ${a}`,n):console.error(`deleting ${a} threw`,n),n}}}}j("intrinsics",e,t)}))},e=>{let t,r,o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,b,P,w,h,v,S,k,j,A,T,x,I,O,C,_,F,N,{imports:R,liveVar:V,onceVar:M}=e;R([["./commons.js",[["FERAL_FUNCTION",[e=>t=e]],["FERAL_EVAL",[e=>r=e]],["TypeError",[e=>o=e]],["arrayFilter",[e=>n=e]],["arrayMap",[e=>s=e]],["globalThis",[e=>a=e]],["is",[e=>i=e]],["ownKeys",[e=>c=e]],["stringSplit",[e=>l=e]],["noEvalEvaluate",[e=>p=e]]]],["./error/stringify-utils.js",[["enJoin",[e=>m=e]]]],["./make-hardener.js",[["makeHardener",[e=>u=e]]]],["./intrinsics.js",[["makeIntrinsicsCollector",[e=>y=e]]]],["./whitelist-intrinsics.js",[["default",[e=>f=e]]]],["./tame-function-constructors.js",[["default",[e=>g=e]]]],["./tame-date-constructor.js",[["default",[e=>d=e]]]],["./tame-math-object.js",[["default",[e=>E=e]]]],["./tame-regexp-constructor.js",[["default",[e=>b=e]]]],["./enable-property-overrides.js",[["default",[e=>P=e]]]],["./tame-locale-methods.js",[["default",[e=>w=e]]]],["./global-object.js",[["setGlobalObjectConstantProperties",[e=>h=e]],["setGlobalObjectMutableProperties",[e=>v=e]],["setGlobalObjectEvaluators",[e=>S=e]]]],["./make-safe-evaluator.js",[["makeSafeEvaluator",[e=>k=e]]]],["./whitelist.js",[["initialGlobalPropertyNames",[e=>j=e]]]],["./tame-function-tostring.js",[["tameFunctionToString",[e=>A=e]]]],["./tame-domains.js",[["tameDomains",[e=>T=e]]]],["./error/tame-console.js",[["tameConsole",[e=>x=e]]]],["./error/tame-error-constructor.js",[["default",[e=>I=e]]]],["./error/assert.js",[["assert",[e=>O=e]],["makeAssert",[e=>C=e]]]],["./environment-options.js",[["makeEnvironmentCaptor",[e=>_=e]]]],["./get-anonymous-intrinsics.js",[["getAnonymousIntrinsics",[e=>F=e]]]],["./compartment-shim.js",[["makeCompartmentConstructor",[e=>N=e]]]]]);const{details:$,quote:L}=O;let G;const D=u(),U=()=>{let e=!1;try{e=t("eval","SES_changed",'        eval("SES_changed = true");\n        return SES_changed;\n      ')(r,!1),e||delete a.SES_changed}catch(n){e=!0}if(!e)throw new o("SES cannot initialize unless 'eval' is the original intrinsic 'eval', suitable for direct-eval (dynamically scoped eval) (SES_DIRECT_EVAL)")},H=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{getEnvironmentOption:t,getCapturedEnvironmentOptionNames:r}=_(a),{errorTaming:u=t("LOCKDOWN_ERROR_TAMING","safe"),errorTrapping:R=t("LOCKDOWN_ERROR_TRAPPING","platform"),regExpTaming:V=t("LOCKDOWN_REGEXP_TAMING","safe"),localeTaming:M=t("LOCKDOWN_LOCALE_TAMING","safe"),consoleTaming:H=t("LOCKDOWN_CONSOLE_TAMING","safe"),overrideTaming:W=t("LOCKDOWN_OVERRIDE_TAMING","moderate"),stackFiltering:B=t("LOCKDOWN_STACK_FILTERING","concise"),domainTaming:z=t("LOCKDOWN_DOMAIN_TAMING","safe"),evalTaming:K=t("LOCKDOWN_EVAL_TAMING","safeEval"),overrideDebug:J=n(l(t("LOCKDOWN_OVERRIDE_DEBUG",""),","),(e=>""!==e)),__allowUnsafeMonkeyPatching__:q=t("__LOCKDOWN_ALLOW_UNSAFE_MONKEY_PATCHING__","safe"),dateTaming:Y="safe",mathTaming:X="safe",...Z}=e,Q=r();Q.length>0&&console.warn(`SES Lockdown using options from environment variables ${m(s(Q,L),"and")}`),O("unsafeEval"===K||"safeEval"===K||"noEval"===K,$`lockdown(): non supported option evalTaming: ${L(K)}`);const ee=c(Z);O(0===ee.length,$`lockdown(): non supported option ${L(ee)}`),O(void 0===G,`Already locked down at ${G} (SES_ALREADY_LOCKED_DOWN)`,o),G=new o("Prior lockdown (SES_ALREADY_LOCKED_DOWN)"),G.stack,U();const te=()=>a.Function.prototype.constructor!==a.Function&&"function"===typeof a.harden&&"function"===typeof a.lockdown&&a.Date.prototype.constructor!==a.Date&&"function"===typeof a.Date.now&&i(a.Date.prototype.constructor.now(),NaN);if(te())throw new o("Already locked down but not by this SES instance (SES_MULTIPLE_INSTANCES)");T(z);const{addIntrinsics:re,completePrototypes:oe,finalIntrinsics:ne}=y();re({harden:D}),re(g()),re(d(Y)),re(I(u,B)),re(E(X)),re(b(V)),re(F()),oe();const se=ne();let ae;"unsafe"!==u&&(ae=se["%InitialGetStackString%"]);const ie=x(H,R,ae);a.console=ie.console,"unsafe"===u&&a.assert===O&&(a.assert=C(void 0,!0)),w(se,M);const ce=A();if(f(se,ce),h(a),v(a,{intrinsics:se,newGlobalPropertyNames:j,makeCompartmentConstructor:N,markVirtualizedNativeFunction:ce}),"noEval"===K)S(a,p,ce);else if("safeEval"===K){const{safeEvaluate:e}=k({globalObject:a});S(a,e,ce)}function le(){return P(se,W,J),"unsafe"!==q&&D(se),a.harden=D,!0}return le};M.repairIntrinsics(H);M.lockdown((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=H(e);t()}))},e=>{let t,r,o,n,s,a,i,c,{imports:l,liveVar:p,onceVar:m}=e;if(l([["./src/commons.js",[["globalThis",[e=>t=e]],["TypeError",[e=>r=e]],["assign",[e=>o=e]]]],["./src/tame-function-tostring.js",[["tameFunctionToString",[e=>n=e]]]],["./src/intrinsics.js",[["getGlobalIntrinsics",[e=>s=e]]]],["./src/lockdown-shim.js",[["lockdown",[e=>a=e]]]],["./src/compartment-shim.js",[["makeCompartmentConstructor",[e=>i=e]]]],["./src/error/assert.js",[["assert",[e=>c=e]]]]]),function(){return this}())throw new r("SES failed to initialize, sloppy mode (SES_NO_SLOPPY)");const u=n(),y=i(i,s(t),u);o(t,{lockdown:a,Compartment:y,assert:c})}];function t(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;const r=[];function o(e){t=e;for(const o of r)o(t)}function n(){return t}function s(e){r.push(e),e(t)}return{get:n,set:o,observe:s,enumerable:!0}}const r=[{globalThis:t("globalThis"),Array:t("Array"),Date:t("Date"),Float32Array:t("Float32Array"),JSON:t("JSON"),Map:t("Map"),Math:t("Math"),Number:t("Number"),Object:t("Object"),Promise:t("Promise"),Proxy:t("Proxy"),Reflect:t("Reflect"),FERAL_REG_EXP:t("FERAL_REG_EXP"),Set:t("Set"),String:t("String"),WeakMap:t("WeakMap"),WeakSet:t("WeakSet"),FERAL_ERROR:t("FERAL_ERROR"),RangeError:t("RangeError"),ReferenceError:t("ReferenceError"),SyntaxError:t("SyntaxError"),TypeError:t("TypeError"),assign:t("assign"),create:t("create"),defineProperties:t("defineProperties"),entries:t("entries"),freeze:t("freeze"),getOwnPropertyDescriptor:t("getOwnPropertyDescriptor"),getOwnPropertyDescriptors:t("getOwnPropertyDescriptors"),getOwnPropertyNames:t("getOwnPropertyNames"),getPrototypeOf:t("getPrototypeOf"),is:t("is"),isExtensible:t("isExtensible"),keys:t("keys"),objectPrototype:t("objectPrototype"),seal:t("seal"),preventExtensions:t("preventExtensions"),setPrototypeOf:t("setPrototypeOf"),values:t("values"),speciesSymbol:t("speciesSymbol"),toStringTagSymbol:t("toStringTagSymbol"),iteratorSymbol:t("iteratorSymbol"),matchAllSymbol:t("matchAllSymbol"),symbolKeyFor:t("symbolKeyFor"),symbolFor:t("symbolFor"),isInteger:t("isInteger"),stringifyJson:t("stringifyJson"),fromEntries:t("fromEntries"),defineProperty:t("defineProperty"),apply:t("apply"),construct:t("construct"),reflectGet:t("reflectGet"),reflectGetOwnPropertyDescriptor:t("reflectGetOwnPropertyDescriptor"),reflectHas:t("reflectHas"),reflectIsExtensible:t("reflectIsExtensible"),ownKeys:t("ownKeys"),reflectPreventExtensions:t("reflectPreventExtensions"),reflectSet:t("reflectSet"),isArray:t("isArray"),arrayPrototype:t("arrayPrototype"),mapPrototype:t("mapPrototype"),proxyRevocable:t("proxyRevocable"),regexpPrototype:t("regexpPrototype"),setPrototype:t("setPrototype"),stringPrototype:t("stringPrototype"),weakmapPrototype:t("weakmapPrototype"),weaksetPrototype:t("weaksetPrototype"),functionPrototype:t("functionPrototype"),promisePrototype:t("promisePrototype"),typedArrayPrototype:t("typedArrayPrototype"),uncurryThis:t("uncurryThis"),objectHasOwnProperty:t("objectHasOwnProperty"),arrayFilter:t("arrayFilter"),arrayForEach:t("arrayForEach"),arrayIncludes:t("arrayIncludes"),arrayJoin:t("arrayJoin"),arrayMap:t("arrayMap"),arrayPop:t("arrayPop"),arrayPush:t("arrayPush"),arraySlice:t("arraySlice"),arraySome:t("arraySome"),arraySort:t("arraySort"),iterateArray:t("iterateArray"),mapSet:t("mapSet"),mapGet:t("mapGet"),mapHas:t("mapHas"),iterateMap:t("iterateMap"),setAdd:t("setAdd"),setDelete:t("setDelete"),setForEach:t("setForEach"),setHas:t("setHas"),iterateSet:t("iterateSet"),regexpTest:t("regexpTest"),regexpExec:t("regexpExec"),matchAllRegExp:t("matchAllRegExp"),stringEndsWith:t("stringEndsWith"),stringIncludes:t("stringIncludes"),stringIndexOf:t("stringIndexOf"),stringMatch:t("stringMatch"),stringReplace:t("stringReplace"),stringSearch:t("stringSearch"),stringSlice:t("stringSlice"),stringSplit:t("stringSplit"),stringStartsWith:t("stringStartsWith"),iterateString:t("iterateString"),weakmapDelete:t("weakmapDelete"),weakmapGet:t("weakmapGet"),weakmapHas:t("weakmapHas"),weakmapSet:t("weakmapSet"),weaksetAdd:t("weaksetAdd"),weaksetGet:t("weaksetGet"),weaksetHas:t("weaksetHas"),functionToString:t("functionToString"),promiseAll:t("promiseAll"),promiseCatch:t("promiseCatch"),promiseThen:t("promiseThen"),getConstructorOf:t("getConstructorOf"),immutableObject:t("immutableObject"),isObject:t("isObject"),isError:t("isError"),FERAL_EVAL:t("FERAL_EVAL"),FERAL_FUNCTION:t("FERAL_FUNCTION"),noEvalEvaluate:t("noEvalEvaluate")},{},{an:t("an"),bestEffortStringify:t("bestEffortStringify"),enJoin:t("enJoin")},{},{unredactedDetails:t("unredactedDetails"),loggedErrorHandler:t("loggedErrorHandler"),makeAssert:t("makeAssert"),assert:t("assert")},{makeEvaluateFactory:t("makeEvaluateFactory")},{isValidIdentifierName:t("isValidIdentifierName"),getScopeConstants:t("getScopeConstants")},{createScopeHandler:t("createScopeHandler")},{getSourceURL:t("getSourceURL")},{rejectHtmlComments:t("rejectHtmlComments"),evadeHtmlCommentTest:t("evadeHtmlCommentTest"),rejectImportExpressions:t("rejectImportExpressions"),evadeImportExpressionTest:t("evadeImportExpressionTest"),rejectSomeDirectEvalExpressions:t("rejectSomeDirectEvalExpressions"),mandatoryTransforms:t("mandatoryTransforms"),applyTransforms:t("applyTransforms")},{makeSafeEvaluator:t("makeSafeEvaluator")},{provideCompartmentEvaluator:t("provideCompartmentEvaluator"),compartmentEvaluate:t("compartmentEvaluate")},{makeEvalFunction:t("makeEvalFunction")},{makeFunctionConstructor:t("makeFunctionConstructor")},{constantProperties:t("constantProperties"),universalPropertyNames:t("universalPropertyNames"),initialGlobalPropertyNames:t("initialGlobalPropertyNames"),sharedGlobalPropertyNames:t("sharedGlobalPropertyNames"),uniqueGlobalPropertyNames:t("uniqueGlobalPropertyNames"),NativeErrors:t("NativeErrors"),FunctionInstance:t("FunctionInstance"),isAccessorPermit:t("isAccessorPermit"),whitelist:t("whitelist")},{setGlobalObjectConstantProperties:t("setGlobalObjectConstantProperties"),setGlobalObjectMutableProperties:t("setGlobalObjectMutableProperties"),setGlobalObjectEvaluators:t("setGlobalObjectEvaluators")},{makeAlias:t("makeAlias"),load:t("load")},{deferExports:t("deferExports"),getDeferredExports:t("getDeferredExports")},{makeThirdPartyModuleInstance:t("makeThirdPartyModuleInstance"),makeModuleInstance:t("makeModuleInstance")},{link:t("link"),instantiate:t("instantiate")},{InertCompartment:t("InertCompartment"),CompartmentPrototype:t("CompartmentPrototype"),makeCompartmentConstructor:t("makeCompartmentConstructor")},{makeIntrinsicsCollector:t("makeIntrinsicsCollector"),getGlobalIntrinsics:t("getGlobalIntrinsics")},{minEnablements:t("minEnablements"),moderateEnablements:t("moderateEnablements"),severeEnablements:t("severeEnablements")},{default:t("default")},{makeEnvironmentCaptor:t("makeEnvironmentCaptor")},{makeLoggingConsoleKit:t("makeLoggingConsoleKit"),makeCausalConsole:t("makeCausalConsole"),filterConsole:t("filterConsole"),consoleWhitelist:t("consoleWhitelist"),BASE_CONSOLE_LEVEL:t("BASE_CONSOLE_LEVEL")},{tameConsole:t("tameConsole")},{filterFileName:t("filterFileName"),shortenCallSiteString:t("shortenCallSiteString"),tameV8ErrorConstructor:t("tameV8ErrorConstructor")},{default:t("default")},{getAnonymousIntrinsics:t("getAnonymousIntrinsics")},{isTypedArray:t("isTypedArray"),makeHardener:t("makeHardener")},{default:t("default")},{tameDomains:t("tameDomains")},{default:t("default")},{tameFunctionToString:t("tameFunctionToString")},{default:t("default")},{default:t("default")},{default:t("default")},{default:t("default")},{repairIntrinsics:t("repairIntrinsics"),lockdown:t("lockdown")},{}],o=r.map((e=>Object.create(null,e)));for(let s=0;s<o.length;s+=1)r[s]["*"]=t("*",o[s]);function n(e,t,o){for(const[n,s]of e.get(t)){const e=r[o][n];if(void 0===e)throw new ReferenceError(`Cannot import name ${n}`);for(const t of s)e.observe(t)}}e[0]({imports(e){new Map(e)},liveVar:{},onceVar:{universalThis:r[0].globalThis.set,Array:r[0].Array.set,Date:r[0].Date.set,Float32Array:r[0].Float32Array.set,JSON:r[0].JSON.set,Map:r[0].Map.set,Math:r[0].Math.set,Number:r[0].Number.set,Object:r[0].Object.set,Promise:r[0].Promise.set,Proxy:r[0].Proxy.set,Reflect:r[0].Reflect.set,FERAL_REG_EXP:r[0].FERAL_REG_EXP.set,Set:r[0].Set.set,String:r[0].String.set,WeakMap:r[0].WeakMap.set,WeakSet:r[0].WeakSet.set,FERAL_ERROR:r[0].FERAL_ERROR.set,RangeError:r[0].RangeError.set,ReferenceError:r[0].ReferenceError.set,SyntaxError:r[0].SyntaxError.set,TypeError:r[0].TypeError.set,assign:r[0].assign.set,create:r[0].create.set,defineProperties:r[0].defineProperties.set,entries:r[0].entries.set,freeze:r[0].freeze.set,getOwnPropertyDescriptor:r[0].getOwnPropertyDescriptor.set,getOwnPropertyDescriptors:r[0].getOwnPropertyDescriptors.set,getOwnPropertyNames:r[0].getOwnPropertyNames.set,getPrototypeOf:r[0].getPrototypeOf.set,is:r[0].is.set,isExtensible:r[0].isExtensible.set,keys:r[0].keys.set,objectPrototype:r[0].objectPrototype.set,seal:r[0].seal.set,preventExtensions:r[0].preventExtensions.set,setPrototypeOf:r[0].setPrototypeOf.set,values:r[0].values.set,speciesSymbol:r[0].speciesSymbol.set,toStringTagSymbol:r[0].toStringTagSymbol.set,iteratorSymbol:r[0].iteratorSymbol.set,matchAllSymbol:r[0].matchAllSymbol.set,symbolKeyFor:r[0].symbolKeyFor.set,symbolFor:r[0].symbolFor.set,isInteger:r[0].isInteger.set,stringifyJson:r[0].stringifyJson.set,fromEntries:r[0].fromEntries.set,defineProperty:r[0].defineProperty.set,apply:r[0].apply.set,construct:r[0].construct.set,reflectGet:r[0].reflectGet.set,reflectGetOwnPropertyDescriptor:r[0].reflectGetOwnPropertyDescriptor.set,reflectHas:r[0].reflectHas.set,reflectIsExtensible:r[0].reflectIsExtensible.set,ownKeys:r[0].ownKeys.set,reflectPreventExtensions:r[0].reflectPreventExtensions.set,reflectSet:r[0].reflectSet.set,isArray:r[0].isArray.set,arrayPrototype:r[0].arrayPrototype.set,mapPrototype:r[0].mapPrototype.set,proxyRevocable:r[0].proxyRevocable.set,regexpPrototype:r[0].regexpPrototype.set,setPrototype:r[0].setPrototype.set,stringPrototype:r[0].stringPrototype.set,weakmapPrototype:r[0].weakmapPrototype.set,weaksetPrototype:r[0].weaksetPrototype.set,functionPrototype:r[0].functionPrototype.set,promisePrototype:r[0].promisePrototype.set,typedArrayPrototype:r[0].typedArrayPrototype.set,uncurryThis:r[0].uncurryThis.set,objectHasOwnProperty:r[0].objectHasOwnProperty.set,arrayFilter:r[0].arrayFilter.set,arrayForEach:r[0].arrayForEach.set,arrayIncludes:r[0].arrayIncludes.set,arrayJoin:r[0].arrayJoin.set,arrayMap:r[0].arrayMap.set,arrayPop:r[0].arrayPop.set,arrayPush:r[0].arrayPush.set,arraySlice:r[0].arraySlice.set,arraySome:r[0].arraySome.set,arraySort:r[0].arraySort.set,iterateArray:r[0].iterateArray.set,mapSet:r[0].mapSet.set,mapGet:r[0].mapGet.set,mapHas:r[0].mapHas.set,iterateMap:r[0].iterateMap.set,setAdd:r[0].setAdd.set,setDelete:r[0].setDelete.set,setForEach:r[0].setForEach.set,setHas:r[0].setHas.set,iterateSet:r[0].iterateSet.set,regexpTest:r[0].regexpTest.set,regexpExec:r[0].regexpExec.set,matchAllRegExp:r[0].matchAllRegExp.set,stringEndsWith:r[0].stringEndsWith.set,stringIncludes:r[0].stringIncludes.set,stringIndexOf:r[0].stringIndexOf.set,stringMatch:r[0].stringMatch.set,stringReplace:r[0].stringReplace.set,stringSearch:r[0].stringSearch.set,stringSlice:r[0].stringSlice.set,stringSplit:r[0].stringSplit.set,stringStartsWith:r[0].stringStartsWith.set,iterateString:r[0].iterateString.set,weakmapDelete:r[0].weakmapDelete.set,weakmapGet:r[0].weakmapGet.set,weakmapHas:r[0].weakmapHas.set,weakmapSet:r[0].weakmapSet.set,weaksetAdd:r[0].weaksetAdd.set,weaksetGet:r[0].weaksetGet.set,weaksetHas:r[0].weaksetHas.set,functionToString:r[0].functionToString.set,promiseAll:r[0].promiseAll.set,promiseCatch:r[0].promiseCatch.set,promiseThen:r[0].promiseThen.set,getConstructorOf:r[0].getConstructorOf.set,immutableObject:r[0].immutableObject.set,isObject:r[0].isObject.set,isError:r[0].isError.set,FERAL_EVAL:r[0].FERAL_EVAL.set,FERAL_FUNCTION:r[0].FERAL_FUNCTION.set,noEvalEvaluate:r[0].noEvalEvaluate.set}}),e[1]({imports(e){new Map(e)},liveVar:{},onceVar:{}}),e[2]({imports(e){n(new Map(e),"../commons.js",0)},liveVar:{},onceVar:{an:r[2].an.set,bestEffortStringify:r[2].bestEffortStringify.set,enJoin:r[2].enJoin.set}}),e[3]({imports(e){new Map(e)},liveVar:{},onceVar:{}}),e[4]({imports(e){const t=new Map(e);n(t,"../commons.js",0),n(t,"./internal-types.js",1),n(t,"./stringify-utils.js",2),n(t,"./types.js",3)},liveVar:{},onceVar:{unredactedDetails:r[4].unredactedDetails.set,loggedErrorHandler:r[4].loggedErrorHandler.set,makeAssert:r[4].makeAssert.set,assert:r[4].assert.set}}),e[5]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{makeEvaluateFactory:r[5].makeEvaluateFactory.set}}),e[6]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{isValidIdentifierName:r[6].isValidIdentifierName.set,getScopeConstants:r[6].getScopeConstants.set}}),e[7]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4)},liveVar:{},onceVar:{createScopeHandler:r[7].createScopeHandler.set}}),e[8]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{getSourceURL:r[8].getSourceURL.set}}),e[9]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./get-source-url.js",8)},liveVar:{},onceVar:{rejectHtmlComments:r[9].rejectHtmlComments.set,evadeHtmlCommentTest:r[9].evadeHtmlCommentTest.set,rejectImportExpressions:r[9].rejectImportExpressions.set,evadeImportExpressionTest:r[9].evadeImportExpressionTest.set,rejectSomeDirectEvalExpressions:r[9].rejectSomeDirectEvalExpressions.set,mandatoryTransforms:r[9].mandatoryTransforms.set,applyTransforms:r[9].applyTransforms.set}}),e[10]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4),n(t,"./make-evaluate-factory.js",5),n(t,"./scope-constants.js",6),n(t,"./scope-handler.js",7),n(t,"./transforms.js",9)},liveVar:{},onceVar:{makeSafeEvaluator:r[10].makeSafeEvaluator.set}}),e[11]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./make-safe-evaluator.js",10),n(t,"./transforms.js",9)},liveVar:{},onceVar:{provideCompartmentEvaluator:r[11].provideCompartmentEvaluator.set,compartmentEvaluate:r[11].compartmentEvaluate.set}}),e[12]({imports(e){new Map(e)},liveVar:{},onceVar:{makeEvalFunction:r[12].makeEvalFunction.set}}),e[13]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4)},liveVar:{},onceVar:{makeFunctionConstructor:r[13].makeFunctionConstructor.set}}),e[14]({imports(e){new Map(e)},liveVar:{},onceVar:{constantProperties:r[14].constantProperties.set,universalPropertyNames:r[14].universalPropertyNames.set,initialGlobalPropertyNames:r[14].initialGlobalPropertyNames.set,sharedGlobalPropertyNames:r[14].sharedGlobalPropertyNames.set,uniqueGlobalPropertyNames:r[14].uniqueGlobalPropertyNames.set,NativeErrors:r[14].NativeErrors.set,FunctionInstance:r[14].FunctionInstance.set,isAccessorPermit:r[14].isAccessorPermit.set,whitelist:r[14].whitelist.set}}),e[15]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./make-eval-function.js",12),n(t,"./make-function-constructor.js",13),n(t,"./whitelist.js",14)},liveVar:{},onceVar:{setGlobalObjectConstantProperties:r[15].setGlobalObjectConstantProperties.set,setGlobalObjectMutableProperties:r[15].setGlobalObjectMutableProperties.set,setGlobalObjectEvaluators:r[15].setGlobalObjectEvaluators.set}}),e[16]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4)},liveVar:{},onceVar:{makeAlias:r[16].makeAlias.set,load:r[16].load.set}}),e[17]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4),n(t,"./module-load.js",16)},liveVar:{},onceVar:{deferExports:r[17].deferExports.set,getDeferredExports:r[17].getDeferredExports.set}}),e[18]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./compartment-evaluate.js",11),n(t,"./error/assert.js",4),n(t,"./module-proxy.js",17)},liveVar:{},onceVar:{makeThirdPartyModuleInstance:r[18].makeThirdPartyModuleInstance.set,makeModuleInstance:r[18].makeModuleInstance.set}}),e[19]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4),n(t,"./module-instance.js",18)},liveVar:{},onceVar:{link:r[19].link.set,instantiate:r[19].instantiate.set}}),e[20]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./compartment-evaluate.js",11),n(t,"./error/assert.js",4),n(t,"./global-object.js",15),n(t,"./make-safe-evaluator.js",10),n(t,"./module-link.js",19),n(t,"./module-load.js",16),n(t,"./module-proxy.js",17),n(t,"./scope-constants.js",6),n(t,"./whitelist.js",14)},liveVar:{},onceVar:{InertCompartment:r[20].InertCompartment.set,CompartmentPrototype:r[20].CompartmentPrototype.set,makeCompartmentConstructor:r[20].makeCompartmentConstructor.set}}),e[21]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./whitelist.js",14)},liveVar:{},onceVar:{makeIntrinsicsCollector:r[21].makeIntrinsicsCollector.set,getGlobalIntrinsics:r[21].getGlobalIntrinsics.set}}),e[22]({imports(e){new Map(e)},liveVar:{},onceVar:{minEnablements:r[22].minEnablements.set,moderateEnablements:r[22].moderateEnablements.set,severeEnablements:r[22].severeEnablements.set}}),e[23]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./enablements.js",22)},liveVar:{},onceVar:{default:r[23].default.set}}),e[24]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4)},liveVar:{},onceVar:{makeEnvironmentCaptor:r[24].makeEnvironmentCaptor.set}}),e[25]({imports(e){const t=new Map(e);n(t,"../commons.js",0),n(t,"./internal-types.js",1),n(t,"./types.js",3)},liveVar:{},onceVar:{makeLoggingConsoleKit:r[25].makeLoggingConsoleKit.set,makeCausalConsole:r[25].makeCausalConsole.set,filterConsole:r[25].filterConsole.set,consoleWhitelist:r[25].consoleWhitelist.set,BASE_CONSOLE_LEVEL:r[25].BASE_CONSOLE_LEVEL.set}}),e[26]({imports(e){const t=new Map(e);n(t,"../commons.js",0),n(t,"./assert.js",4),n(t,"./console.js",25),n(t,"./internal-types.js",1),n(t,"./types.js",3)},liveVar:{},onceVar:{tameConsole:r[26].tameConsole.set}}),e[27]({imports(e){n(new Map(e),"../commons.js",0)},liveVar:{},onceVar:{filterFileName:r[27].filterFileName.set,shortenCallSiteString:r[27].shortenCallSiteString.set,tameV8ErrorConstructor:r[27].tameV8ErrorConstructor.set}}),e[28]({imports(e){const t=new Map(e);n(t,"../commons.js",0),n(t,"../whitelist.js",14),n(t,"./tame-v8-error-constructor.js",27)},liveVar:{},onceVar:{default:r[28].default.set}}),e[29]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./compartment-shim.js",20)},liveVar:{},onceVar:{getAnonymousIntrinsics:r[29].getAnonymousIntrinsics.set}}),e[30]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4)},liveVar:{},onceVar:{isTypedArray:r[30].isTypedArray.set,makeHardener:r[30].makeHardener.set}}),e[31]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{default:r[31].default.set}}),e[32]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{tameDomains:r[32].tameDomains.set}}),e[33]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{default:r[33].default.set}}),e[34]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{tameFunctionToString:r[34].tameFunctionToString.set}}),e[35]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4)},liveVar:{},onceVar:{default:r[35].default.set}}),e[36]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{default:r[36].default.set}}),e[37]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{default:r[37].default.set}}),e[38]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./whitelist.js",14)},liveVar:{},onceVar:{default:r[38].default.set}}),e[39]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./compartment-shim.js",20),n(t,"./enable-property-overrides.js",23),n(t,"./environment-options.js",24),n(t,"./error/assert.js",4),n(t,"./error/stringify-utils.js",2),n(t,"./error/tame-console.js",26),n(t,"./error/tame-error-constructor.js",28),n(t,"./get-anonymous-intrinsics.js",29),n(t,"./global-object.js",15),n(t,"./intrinsics.js",21),n(t,"./make-hardener.js",30),n(t,"./make-safe-evaluator.js",10),n(t,"./tame-date-constructor.js",31),n(t,"./tame-domains.js",32),n(t,"./tame-function-constructors.js",33),n(t,"./tame-function-tostring.js",34),n(t,"./tame-locale-methods.js",35),n(t,"./tame-math-object.js",36),n(t,"./tame-regexp-constructor.js",37),n(t,"./whitelist-intrinsics.js",38),n(t,"./whitelist.js",14)},liveVar:{},onceVar:{repairIntrinsics:r[39].repairIntrinsics.set,lockdown:r[39].lockdown.set}}),e[40]({imports(e){const t=new Map(e);n(t,"./src/commons.js",0),n(t,"./src/compartment-shim.js",20),n(t,"./src/error/assert.js",4),n(t,"./src/intrinsics.js",21),n(t,"./src/lockdown-shim.js",39),n(t,"./src/tame-function-tostring.js",34)},liveVar:{},onceVar:{}})})();